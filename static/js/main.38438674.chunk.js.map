{"version":3,"sources":["main/ui/images/logo.png","main/ui/images/main.png","serviceWorker.ts","01-auth/dal/authAPI.ts","01-auth/bll/cookies.ts","01-auth/bll/request-statuses-reducer.ts","01-auth/bll/login-reducer.ts","01-auth/bll/registration-reducer.ts","01-auth/bll/recoveryPassword-reducer.ts","02-tables/api/decksAPI.ts","02-tables/api/cardsAPI.ts","02-tables/bll/cardDecksReducer.ts","02-tables/bll/cardsReducer.ts","01-auth/bll/init-reducer.ts","main/bll/store.ts","main/ui/style/commonStyle.ts","main/ui/components/preloader/Preloader.tsx","main/ui/style/headerStyle.ts","main/ui/style/bodyStyle.ts","02-tables/cardDecks/deck.tsx","02-tables/cardDecks/cardDecks.tsx","02-tables/pagination.tsx","main/ui/components/modal-forms/modal.tsx","main/ui/style/forForms/formControlsStyle.ts","main/ui/components/forForms/FormsControls.tsx","02-tables/cardDecks/editDeckForm.tsx","02-tables/cardDecks/cardDecksContainer.tsx","02-tables/cards/Card.tsx","02-tables/cards/CardsOfDeck.tsx","02-tables/cards/editCardForm.tsx","04-learn cards/OneCard.tsx","04-learn cards/GradeIcon.tsx","04-learn cards/LearnCards.tsx","02-tables/cards/cardsContainer.tsx","main/ui/components/Profile.tsx","02-tables/cards/DeckInfo.tsx","main/ui/components/forForms/validators.ts","03-decksAll-decksMe/DeckBlock.tsx","03-decksAll-decksMe/DecksAllContainer.tsx","05-decksEditor/singleCardForm.tsx","05-decksEditor/cardsEditor.tsx","05-decksEditor/editor.tsx","05-decksEditor/singleCardEditor.tsx","05-decksEditor/decksEditorContainer.tsx","main/ui/style/forForms/formsStyle.ts","01-auth/ui/ReduxForm/NewPasswordForm.tsx","01-auth/ui/NewPassword.tsx","01-auth/ui/NewPasswordContainer.tsx","main/ui/components/Home.tsx","06-change profile/EditProfileForm.tsx","06-change profile/Settings.tsx","main/ui/components/Body.tsx","02-tables/cardDecks/searchDeck.tsx","01-auth/ui/ReduxForm/LoginForm.tsx","01-auth/ui/Login.tsx","01-auth/ui/LoginContainer.tsx","01-auth/ui/ReduxForm/SignInForm.tsx","01-auth/ui/SignIn.tsx","01-auth/ui/SignInContainer.tsx","01-auth/ui/ReduxForm/RecoveryPasswordForm.tsx","01-auth/ui/RecoveryPassword.tsx","01-auth/ui/RecoveryPasswordContainer.tsx","main/ui/components/Header.tsx","main/ui/App.tsx","main/ui/AppContainer.tsx","index.tsx","main/ui/images/no-user-photo.jpg","main/ui/images/no-deck-cover.jpg"],"names":["module","exports","Boolean","window","location","hostname","match","instance","axios","create","baseURL","authAPI","email","password","post","then","response","data","rememberMe","resetPasswordToken","success","token","name","avatar","put","setCookie","tokenDeathTime","document","cookie","setTokenInCookie","Math","floor","getCookie","matches","RegExp","replace","decodeURIComponent","initialState","isLoading","hasSuccess","hasError","errorMessage","requestStatusesActions","type","requestStatusesReducer","state","action","userId","isAuthorized","actions","loginReducer","isRegistratedUser","isRegistrated","registrationReducer","isSendEmail","isSaveNewPassword","recoveryPasswordReducer","decksAPI","page","get","res","myUserId","deckName","id","delete","object","cardsAPI","deckId","cardPacks","cardPacksTotalCount","maxGrade","minGrade","pageCount","editedDeckId","redirectedId","decks","getDecks","dispatch","a","console","log","getDecksMe","getState","login","createOrEditDeckWithCards","cardsPack","editedCards","newCards","editedPackId","cardDecksReducer","_id","editedDeck","newDeck","newCardPackId","newCardsPack","existingCards","oldCards","cards","card","iterableCard","find","oldCard","push","answer","question","editedCard","length","cardsForDelete","filter","includes","newCard","cardsPack_id","createdCard","choosePage","map","cardPack","cardsTotalCount","grate","getCards","postCard","cardsReducer","grade","isInitializedApp","initializationApp","error","initReducer","rootReducer","combineReducers","init","requestStatus","registration","recoveryPassword","form","formReducer","createStore","applyMiddleware","thunk","H1","styled","h1","props","color","H3","h3","fontSize","Span","p","BlockWrapper","div","FlexRowCenter","ContainerWrapper","Button","button","TextLink","NavLink","TransparentButton","Preloader","size","backColor","frontColor","loading","HeaderWrapper","HeaderContainer","LogoLinkBlock","LogoImg","img","LogoText","span","MenuNavLink","IconDiv","MainWrapper","MainContainer","whiteBox","DeckWrapper","ActionsMenu","Action","backgroundColor","NameDeckNavLink","Deck","shots","rating","deletePack","editPack","Name","to","InfoHeader","onClick","DecksWrapper","DeckHeader","CardDecks","deck","key","PaginationWrapper","textAlign","PageWrapper","Page","current","disabled","Pagination","totalCount","onPageCount","currentPage","changePage","pages","useMemo","ceil","i","icon","rotation","Modal","children","closeModal","height","width","ref","useRef","Wrapper","e","target","ChildWrapper","FormStyled","InputCheckBoxDiv","InputDiv","InputStyled","input","ErrorBlock","Input","meta","placeholder","touched","errorText","FieldName","StyledButton","StyledField","EditDeckReduxForm","reduxForm","handleSubmit","onSubmit","Field","component","CardDecksContainer","useSelector","store","useDispatch","history","useHistory","useEffect","useState","isModalOpened","setChangeModal","closeModalWindow","deletedCardsPack","deleteDeck","Card","deleteCard","editCard","path","PROFILE_PATH","AddCardButton","CardsOfDecks","addCard","EditCardReduxForm","modalType","OneCard","text","isShowAnswer","changeShow","OneCardWrapper","GradeIcon","tooltip","currentGradeCard","index","setGradeCard","IconWrapper","IconFase","colorBlue","grades","iconTitle","faDizzy","faFrown","faMehRollingEyes","faGrimace","faGrinStars","LearnCards","setIsShowAnswer","currentCard","setCurrentCard","countCard","setCountCard","onChangeShow","isShow","IconsWrapper","item","compose","withRouter","params","isEditOpened","editedCardId","switchEditModal","isAddModalOpened","switchAddModal","isLearnModalOpened","switchLearnModal","closeLearnModal","CardsOfDeck","deletedCard","cardId","chooseCardsPage","putCard","library","add","fas","Profile","ProfileContainer","UserCardInfo","UserPhoto","src","noUserPhoto","alt","Line","ButtonsBlock","as","SETTINGS_PATH","UserDecksInfoContainer","DECK_CARDS_PATH_ME","exact","MAIN_PATH","maxLength","DeckInfo","BlockDeckAbout","DeckCover","noDeckCover","user_name","DeckBlock","DeckBlockWrapper","DeckCoverWrapper","DecksAllContainer","DecksContainer","DecksAllWrapper","InvisibleWrapper","DeleteCard","SingleCardForm","cardForEdit","fullCardName","questionFieldName","answerFieldName","questionRef","answerRef","change","innerText","contentEditable","onInput","value","currentTarget","textContent","onChangeQuestion","onChangeAnswer","AddCardButtonEditor","CardsEditor","setNewCards","cardsForEdit","setEditedCards","deleteEditedCard","_","arrayRemove","deleteNewCard","newCardsArr","EditorWrapper","DeckNameWrapper","StyledInput","SubmitButton","FieldArrayCustom","FieldArray","EditorReduxForm","SingleCardReduxForm","DecksEditorContainer","useLocation","useParams","isCardEditorOpened","setCardEditor","switchCardEditor","editDeck","editedPack","newPackName","undefined","correctedCards","correctedNewCards","createNewDeck","user_id","pathname","SignUpForm","LoginForm","RecoveryPasswordForm","NewPasswordForm","requiredField","maxLength8","emailValidation","test","NewPasswordReduxForm","invalid","validate","NewPassword","submitFnc","NewPasswordContainer","repeatPassword","stopSubmit","_error","setNewPassword","Home","HomeWrapper","HomeContainer","HomeTextBlock","HomeH3","HomeBannerBlock","Banner","banner","EditProfileReduxForm","connect","initialValues","userName","enableReinitialize","hasDataToSend","EditProfileFormStyled","Settings","newAvatar","setNewAvatar","sethasDataToSend","SettingsContainer","SettingsMenu","MenuItemActive","MenuItem","SettingsBody","base64String","updatedUser","PhotoInfo","FileInputLabel","htmlFor","IconFileDiv","FileInput","onChange","file","files","reader","FileReader","readAsDataURL","onload","result","onerror","label","Body","SearchWrapper","SearchingInput","SearchIcon","isFocused","SearchDeck","editMode","setEditMode","switchEditMode","searching","setSearching","submitSearching","onBlur","onFocus","onKeyPress","LoginReduxForm","openRecoveryModal","Login","openSignInModal","LoginContainer","React","memo","closeLogInModal","logIn","SignInReduxForm","SignIn","openLogInModal","SignInContainer","closeSignInModal","RecoveryPasswordReduxForm","RecoveryPassword","RecoveryPasswordContainer","closeRecoveryModal","far","Header","isLogInModalOpened","switchLogInModal","isSignInModalOpened","switchSignInModal","isRecoveryModalOpened","switchRecoveryModal","useCallback","logo","App","AppContainer","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","unregister","catch","message"],"mappings":"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","file":"static/js/main.38438674.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.3a344931.png\";","module.exports = __webpack_public_path__ + \"static/media/main.d462b7f1.png\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import axios from \"axios\";\r\nimport {\r\n    AuthorizationResponseType,\r\n    ChangeUserDataResponseType,\r\n    RegistrationResponseType,\r\n    SuccessResponseType\r\n} from \"./entities-authAPI\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://cards-nya-back.herokuapp.com/1.0/\"\r\n});\r\n\r\nexport const authAPI = {\r\n    registration(email: string, password: string) {\r\n        return instance.post<RegistrationResponseType>(`auth/register`, {email, password})\r\n            .then(response => response.data)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean) {\r\n        return instance.post<AuthorizationResponseType>(`auth/login`, {email, password, rememberMe})\r\n            .then(response => {\r\n                // debugger\r\n                return response.data\r\n            })\r\n    },\r\n    forgotPassword(email: string) {\r\n        return instance.post<SuccessResponseType>(`auth/forgot`,\r\n            {email, html1: '<a href=\"http://localhost:3000/newPassword/'})\r\n            .then(response => response.data.success)\r\n    },\r\n    setNewPassword(resetPasswordToken: string, password: string) {\r\n        return instance.post<SuccessResponseType>(`auth/set-new-password`, {resetPasswordToken, password})\r\n            .then(response => response.data.success)\r\n    },\r\n    getMe(token: string) {\r\n        return instance.post<AuthorizationResponseType>(`auth/me`, {token})\r\n            .then(response => {\r\n                // debugger\r\n                return response.data\r\n            })\r\n    },\r\n    changeMe(token: string, name: string, avatar: string | null) {\r\n        debugger\r\n        return instance.put<ChangeUserDataResponseType>(`auth/me`, {token, name, avatar})\r\n            .then(response => {\r\n                // debugger\r\n                return response.data\r\n            })\r\n    }\r\n};","export const setCookie = (name: string, token: string, tokenDeathTime: number) => {\r\n    document.cookie = `${name}=${token};max-age=${tokenDeathTime};path=/`;\r\n};\r\n\r\nexport const setTokenInCookie = (token: string, tokenDeathTime: number) => {\r\n    setCookie('token', token, Math.floor(tokenDeathTime / 1000) - 180);\r\n}\r\n\r\nexport const getCookie = (name: string): string | null => {\r\n    const matches = document.cookie.match(new RegExp(\r\n        '(?:^|; )' + name.replace(/([.$?*|{}()\\]\\\\^])/g, '\\\\$1') + '=([^;]*)'\r\n    ));\r\n    return matches ? decodeURIComponent(matches[1]) : null;\r\n};\r\n","import {InferActionTypes} from \"../../main/bll/store\";\r\nimport {RequestStatusesType} from \"./entities-auth-bll\";\r\n\r\nlet initialState: RequestStatusesType = {\r\n    isLoading: false,\r\n    hasSuccess: false,\r\n    hasError: false,\r\n    errorMessage: null\r\n};\r\n\r\nconst requestStatusesReducer = (state = initialState, action: ActionsTypes): RequestStatusesType => {\r\n    switch (action.type) {\r\n        case \"request-statuses-reducer/SET_LOADING\":\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const requestStatusesActions = {\r\n    setLoading: (isLoading: boolean) => ({type: \"request-statuses-reducer/SET_LOADING\", isLoading} as const)\r\n}\r\n\r\ntype ActionsTypes = InferActionTypes<typeof requestStatusesActions>\r\n\r\nexport default requestStatusesReducer","import {AppStateType, InferActionTypes} from \"../../main/bll/store\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {authAPI} from \"../dal/authAPI\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getCookie, setTokenInCookie} from \"./cookies\";\r\nimport {DEV_VERSION} from \"../../config\";\r\nimport {requestStatusesActions} from \"./request-statuses-reducer\";\r\nimport { LoginType } from \"./entities-auth-bll\";\r\nimport {act} from \"react-dom/test-utils\";\r\n\r\nlet initialState: LoginType = {\r\n    email: null,\r\n    name: null,\r\n    avatar: null,\r\n    userId: null,\r\n    isAuthorized: false\r\n};\r\n\r\nconst loginReducer = (state = initialState, action: ActionsTypes): LoginType => {\r\n    switch (action.type) {\r\n        case \"login-reducer/SET_AUTH_USER_DATA\":\r\n            return {\r\n                ...state,\r\n                email: action.email,\r\n                name: action.name,\r\n                avatar: action.avatar,\r\n                userId: action.userId,\r\n                isAuthorized: action.isAuthorized\r\n            };\r\n        case \"login-reducer/SET_USER_DATA\":\r\n            return {\r\n                ...state,\r\n                name: action.name,\r\n                avatar: action.avatar\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    setAuthUserData: (email: string | null, name: string | null, avatar: string | null,\r\n                      userId: string | null, isAuthorized: boolean) =>\r\n        ({type: \"login-reducer/SET_AUTH_USER_DATA\", email, name, avatar, userId, isAuthorized} as const),\r\n\r\n    setUserData: (name: string | null, avatar: string | null) =>\r\n        ({type: \"login-reducer/SET_USER_DATA\", name, avatar} as const)\r\n}\r\ntype ActionsTypes = InferActionTypes<typeof actions>\r\n\r\nexport const logIn = (email: string, password: string, rememberMe: boolean):\r\n    ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any) => {\r\n\r\n        DEV_VERSION && console.log('CALL login-reducer -> login')\r\n        try {\r\n            dispatch(requestStatusesActions.setLoading(true))\r\n            const response = await authAPI.login(email, password, rememberMe)\r\n            DEV_VERSION && console.log('    response:')\r\n            DEV_VERSION && console.log(response)\r\n            setTokenInCookie(response.token, response.tokenDeathTime)\r\n            dispatch(actions.setAuthUserData(response.email, response.name, response.avatar, response._id, response.success))\r\n            dispatch(requestStatusesActions.setLoading(false))\r\n        } catch (error) {\r\n            dispatch(actions.setAuthUserData(null, null, null, null, false))\r\n            dispatch(requestStatusesActions.setLoading(false))\r\n            // debugger\r\n            DEV_VERSION && console.log('    response:')\r\n            DEV_VERSION && console.log(error.response)\r\n            dispatch(stopSubmit(\"login\", {_error: error.response.data.error}))\r\n        }\r\n    }\r\n\r\nexport const getMe = () => async (dispatch: any, getState: () => AppStateType) => {\r\n\r\n    DEV_VERSION && console.log('CALL login-reducer -> getMe')\r\n    try {\r\n        const token: string | null = getCookie('token')\r\n        DEV_VERSION && console.log(`    token from cookie: ${token}`)\r\n\r\n        if (token !== null) {\r\n            dispatch(requestStatusesActions.setLoading(true))\r\n            const response = await authAPI.getMe(token)\r\n            DEV_VERSION && console.log('    response authAPI.getMe:')\r\n            DEV_VERSION && console.log(response)\r\n            setTokenInCookie(response.token, response.tokenDeathTime)\r\n            dispatch(actions.setAuthUserData(response.email, response.name, response.avatar, response._id, response.success))\r\n            dispatch(requestStatusesActions.setLoading(false))\r\n\r\n            return {success: true, error: false, errorMessage: null}\r\n\r\n        } else {\r\n            return {success: false, error: true, errorMessage: 'token is null'}\r\n        }\r\n    } catch (error) {\r\n        dispatch(actions.setAuthUserData(null, null, null, null, false))\r\n        dispatch(requestStatusesActions.setLoading(false))\r\n        DEV_VERSION && console.log('    response authAPI.getMe:')\r\n        DEV_VERSION && console.log(error.response.data.error)\r\n\r\n        return {success: false, error: true, errorMessage: error.response.data.error}\r\n    }\r\n}\r\n\r\nexport const logOut = () => {\r\n    return (dispatch: any) => {\r\n\r\n        DEV_VERSION && console.log('CALL login-reducer -> logOut')\r\n        dispatch(requestStatusesActions.setLoading(true))\r\n        setTokenInCookie('', -1000)\r\n        DEV_VERSION && console.log(`    token: null`)\r\n        dispatch(actions.setAuthUserData(null, null, null,  null, false))\r\n        dispatch(requestStatusesActions.setLoading(false))\r\n\r\n    }\r\n}\r\n\r\nexport const changeProfile = (name: string, base64String: string | ArrayBuffer | null): ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any, getState: () => AppStateType) => {\r\n\r\n    DEV_VERSION && console.log('CALL login-reducer -> changeProfile')\r\n    try {\r\n        const token: string | null = getCookie('token')\r\n        DEV_VERSION && console.log(`    token from cookie: ${token}`)\r\n\r\n        if (token !== null) {\r\n            dispatch(requestStatusesActions.setLoading(true))\r\n            const response = await authAPI.changeMe(token, name, typeof(base64String) === \"string\" ? base64String : null)\r\n            DEV_VERSION && console.log('    response authAPI.changeMe:')\r\n            DEV_VERSION && console.log(response)\r\n            setTokenInCookie(response.token, response.tokenDeathTime)\r\n            dispatch(actions.setUserData(response.updatedUser.name, response.updatedUser.avatar))\r\n            dispatch(requestStatusesActions.setLoading(false))\r\n\r\n            return {success: true, error: false, errorMessage: null}\r\n\r\n        } else {\r\n            return {success: false, error: true, errorMessage: 'token is null'}\r\n        }\r\n    } catch (error) {\r\n        // dispatch(actions.setUserData(null))\r\n        dispatch(requestStatusesActions.setLoading(false))\r\n        DEV_VERSION && console.log('    response authAPI.getMe:')\r\n        DEV_VERSION && console.log(error.response.data.error)\r\n\r\n        return {success: false, error: true, errorMessage: error.response.data.error}\r\n    }\r\n}\r\n\r\nexport default loginReducer","import {RegistrationType} from \"./entities-auth-bll\";\r\nimport {AppStateType, InferActionTypes} from \"../../main/bll/store\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {authAPI} from \"../dal/authAPI\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {requestStatusesActions} from \"./request-statuses-reducer\";\r\nimport {DEV_VERSION} from \"../../config\";\r\n\r\nlet initialState: RegistrationType = {\r\n    isRegistratedUser: null\r\n};\r\n\r\nconst registrationReducer = (state = initialState, action: ActionsTypes): RegistrationType => {\r\n    switch (action.type) {\r\n        case \"registration-reducer/SET_REGISTRATION_STATUS\":\r\n            return {\r\n                ...state,\r\n                isRegistratedUser: action.isRegistrated\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    setRegistrationStatus: (isRegistrated: boolean) =>\r\n        ({type: \"registration-reducer/SET_REGISTRATION_STATUS\", isRegistrated} as const)\r\n}\r\ntype ActionsTypes = InferActionTypes<typeof actions>\r\n\r\nexport const registration = (email: string, password: string): ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any) => {\r\n\r\n        DEV_VERSION && console.log('CALL registration-reducer -> registration');\r\n        try {\r\n            dispatch(requestStatusesActions.setLoading(true));\r\n            const response = await authAPI.registration(email, password);\r\n            DEV_VERSION && console.log(`    response: ${response}`);\r\n            dispatch(actions.setRegistrationStatus(response.success));\r\n        }\r\n        catch (error) {\r\n            dispatch(actions.setRegistrationStatus(false));\r\n            dispatch(requestStatusesActions.setLoading(false));\r\n            DEV_VERSION && console.log(`    response: ${error.response}`);\r\n            dispatch(stopSubmit(\"signIn\", {_error: error.response.data.error}));\r\n        }\r\n    }\r\n\r\nexport default registrationReducer;","import {AppStateType, InferActionTypes} from \"../../main/bll/store\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {authAPI} from \"../dal/authAPI\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {RecoveryPasswordType} from \"./entities-auth-bll\";\r\nimport {DEV_VERSION} from \"../../config\";\r\nimport {requestStatusesActions} from \"./request-statuses-reducer\";\r\n\r\nlet initialState: RecoveryPasswordType = {\r\n    isSendEmail: false,\r\n    isSaveNewPassword: false,\r\n};\r\n\r\nconst recoveryPasswordReducer = (state = initialState, action: ActionsTypes): RecoveryPasswordType => {\r\n    switch (action.type) {\r\n        case \"recoveryPassword-reducer/SET_STATUS_SENT_EMAIL\":\r\n            return {\r\n                ...state,\r\n                isSendEmail: action.isSendEmail\r\n            };\r\n        case \"recoveryPassword-reducer/SET_STATUS_SAVE_NEW_PASSWORD\":\r\n            return {\r\n                ...state,\r\n                isSaveNewPassword: action.isSaveNewPassword\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    setStatusSendEmail: (isSendEmail: boolean) =>\r\n        ({type: \"recoveryPassword-reducer/SET_STATUS_SENT_EMAIL\", isSendEmail} as const),\r\n\r\n    setStatusSaveNewPassword: (isSaveNewPassword: boolean) =>\r\n        ({type: \"recoveryPassword-reducer/SET_STATUS_SAVE_NEW_PASSWORD\", isSaveNewPassword} as const)\r\n}\r\ntype ActionsTypes = InferActionTypes<typeof actions>\r\n\r\nexport const recoveryPassword = (email: string): ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any) => {\r\n\r\n        DEV_VERSION && console.log('CALL recoveryPassword-reducer -> recoveryPassword')\r\n        try {\r\n            dispatch(requestStatusesActions.setLoading(true))\r\n            const response = await authAPI.forgotPassword(email)\r\n            DEV_VERSION && console.log(`    response send email: ${response}`)\r\n            dispatch(actions.setStatusSendEmail(response))\r\n            dispatch(requestStatusesActions.setLoading(false))\r\n        } catch (error) {\r\n            dispatch(actions.setStatusSendEmail(false))\r\n            dispatch(requestStatusesActions.setLoading(false))\r\n            DEV_VERSION && console.log(`    response send email: ${error.response}`)\r\n            dispatch(stopSubmit(\"recoveryPassword\", {_error: error.response.data.error}))\r\n        }\r\n    }\r\n\r\nexport const setNewPassword = (token: string, password: string):\r\n    ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any) => {\r\n\r\n        DEV_VERSION && console.log('CALL recoveryPassword-reducer -> setNewPassword')\r\n        try {\r\n            dispatch(requestStatusesActions.setLoading(true))\r\n            const response = await authAPI.setNewPassword(token, password)\r\n            DEV_VERSION && console.log(`    response: ${response}`)\r\n            dispatch(actions.setStatusSaveNewPassword(response))\r\n            dispatch(requestStatusesActions.setLoading(false))\r\n        } catch (error) {\r\n            dispatch(actions.setStatusSaveNewPassword(false))\r\n            dispatch(requestStatusesActions.setLoading(false))\r\n            DEV_VERSION && console.log(`    response: ${error.response}`)\r\n            dispatch(stopSubmit(\"newPassword\", {_error: error.response.data.error}))\r\n        }\r\n    }\r\n\r\nexport default recoveryPasswordReducer","import axios from \"axios\";\r\nimport {DeleteDeckResponseType, GetDecksType, PostOrPutDeckType, PostDeckResponseType, PutDeckResponseType} from \"./entities-decksAPI\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://cards-nya-back.herokuapp.com/1.0/'\r\n});\r\n\r\nexport const decksAPI = {\r\n    getDecks: (token: string, page?: number) => (\r\n        instance.get<GetDecksType>(`cards/pack?&token=${token}&pageCount=12&page=${page}`)\r\n            .then(res => {\r\n                // debugger\r\n                return res.data\r\n            })\r\n    ),\r\n    getDecksMe: (token: string, myUserId: string, page?: number) => (\r\n        instance.get<GetDecksType>(`cards/pack?&token=${token}&user_id=${myUserId}&pageCount=12&page=${page}`)\r\n            .then(res => {\r\n                // debugger\r\n                return res.data\r\n            })\r\n    ),\r\n    searchDecks: (token: string, deckName: string) => (\r\n        instance.get<GetDecksType>(`cards/pack?&token=${token}&pageCount=12&packName=${deckName}`)\r\n            .then(res => res.data)\r\n    ),\r\n    deleteDeck: (token: string, id: string) => (\r\n        instance.delete<DeleteDeckResponseType>(`cards/pack?&token=${token}&id=${id}`)\r\n            .then(res => res.data)\r\n    ),\r\n    postDeck: (object: PostOrPutDeckType) => (\r\n        instance.post<PostDeckResponseType>(`cards/pack`, object)\r\n            .then(res => res.data)\r\n    ),\r\n    putDeck: (object: PostOrPutDeckType) => (\r\n        instance.put<PutDeckResponseType>(`cards/pack`, object)\r\n            .then(res => res.data)\r\n    )\r\n}\r\n","import axios from \"axios\";\r\nimport {GetCardsType, DeleteCardResponseType, PostOrPutCardObjectType, PostCardResponseType, PutCardResponseType} from \"./entities-cardsAPI\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://cards-nya-back.herokuapp.com/1.0/'\r\n});\r\n\r\nexport const cardsAPI = {\r\n    getCards: (token: string, deckId: string, page?: number) => (\r\n        instance.get<GetCardsType>(`cards/card?&token=${token}&cardsPack_id=${deckId}&pageCount=10&page=${page}`)\r\n            .then(res => {\r\n                // debugger\r\n                return res.data\r\n            })\r\n    ),\r\n    deleteCard: (token: string, id: string) => (\r\n        instance.delete<DeleteCardResponseType>(`cards/card?&token=${token}&id=${id}`)\r\n            .then(res => res.data)\r\n    ),\r\n    postCard: (object: PostOrPutCardObjectType) => (\r\n        instance.post<PostCardResponseType>(`cards/card`, object)\r\n            .then(res => res.data)\r\n    ),\r\n    putCard: (object: PostOrPutCardObjectType) => (\r\n        instance.put<PutCardResponseType>(`cards/card`, object)\r\n            .then(res => res.data)\r\n    )\r\n}","import {AppStateType, InferActionTypes} from \"../../main/bll/store\";\r\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {getCookie, setCookie} from \"../../01-auth/bll/cookies\";\r\nimport {CardPackType, GetDecksType, PostOrPutCardsPackType} from \"../api/entities-decksAPI\";\r\nimport {decksAPI} from \"../api/decksAPI\";\r\nimport {CardType, PostOrPutCardType} from \"../api/entities-cardsAPI\";\r\nimport {cardsAPI} from \"../api/cardsAPI\";\r\n\r\nexport type DecksType = {\r\n    cardPacks: Array<CardPackType>,\r\n    cardPacksTotalCount: number,\r\n    maxGrade: string,\r\n    minGrade: number,\r\n    page: number\r\n    pageCount: number,\r\n    token: string,\r\n    tokenDeathTime: number,\r\n    isLoading: boolean,\r\n    editedDeckId: string,\r\n    redirectedId: string\r\n}\r\n\r\nlet initialState: DecksType = {\r\n    cardPacks: [],\r\n    cardPacksTotalCount: 0,\r\n    maxGrade: '',\r\n    minGrade: 0,\r\n    page: 0,\r\n    pageCount: 0,\r\n    token: '',\r\n    tokenDeathTime: 0,\r\n    isLoading: false,\r\n    editedDeckId: '',\r\n    redirectedId: ''\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\nconst cardDecksReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"cardDeckReducer/SET_DECK\":\r\n            return {\r\n                ...state,\r\n                ...action.decks,\r\n                cardPacks: action.decks.cardPacks.map(cardPack => ({...cardPack})),\r\n                isLoading: false\r\n            };\r\n        case \"cardDeckReducer/DELETE_DECK\":\r\n            return {\r\n                ...state,\r\n                cardPacks: state.cardPacks.filter((cardPack) => cardPack._id !== action.id),\r\n                isLoading: false\r\n            }\r\n        case \"cardDeckReducer/LOADING_STATUS\":\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading,\r\n            }\r\n        case \"cardDeckReducer/SET_PAGE\":\r\n            return {\r\n                ...state,\r\n                page: action.page\r\n            }\r\n        case \"cardDeckReducer/SET_EDITED_PACK_ID\":\r\n            return {\r\n                ...state,\r\n                editedDeckId: action.editedDeckId\r\n            }\r\n        case \"cardDeckReducer/SET_REDIRECTED_PACK_ID\":\r\n            return {\r\n                ...state,\r\n                redirectedId: action.redirectedId\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const actions = {\r\n    setDecks: (decks: GetDecksType) => ({type: \"cardDeckReducer/SET_DECK\", decks} as const),\r\n    deleteDeck: (id: string) => ({type: \"cardDeckReducer/DELETE_DECK\", id} as const),\r\n    setLoadingStatus: (isLoading: boolean) => ({type: \"cardDeckReducer/LOADING_STATUS\", isLoading} as const),\r\n    setPage: (page: number) => ({type: \"cardDeckReducer/SET_PAGE\", page} as const),\r\n    setEditedDeckId: (editedDeckId: string) => ({type: \"cardDeckReducer/SET_EDITED_PACK_ID\", editedDeckId} as const),\r\n    setRedirectedId: (redirectedId: string) => ({type: \"cardDeckReducer/SET_REDIRECTED_PACK_ID\", redirectedId} as const)\r\n};\r\n\r\ntype ActionsTypes = InferActionTypes<typeof actions>;\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsTypes>;\r\ntype ThunkActionType = ThunkDispatch<AppStateType, unknown, ActionsTypes>;\r\n\r\n\r\nexport const getDecks = (): ThunkType => async (dispatch: ThunkActionType) => {\r\n    let token = getCookie('token');\r\n    if (token !== null) {\r\n        dispatch(actions.setLoadingStatus(true));\r\n        let data = await decksAPI.getDecks(token);\r\n        setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n        dispatch(actions.setDecks(data))\r\n    } else console.log('ERROR: token is null!!!');\r\n};\r\n\r\nexport const getDecksMe = (): ThunkType =>\r\n    async (dispatch: ThunkActionType, getState: () => AppStateType) => {\r\n        let token = getCookie('token');\r\n        let myUserId: string | null = getState().login.userId;\r\n        if (token !== null && myUserId !== null) {\r\n            dispatch(actions.setLoadingStatus(true));\r\n            let data = await decksAPI.getDecksMe(token, myUserId);\r\n            setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n            dispatch(actions.setDecks(data))\r\n        } else console.log('ERROR: token is null!!!');\r\n    };\r\n\r\nexport const deleteDeck = (id: string): ThunkType => async (dispatch: ThunkActionType) => {\r\n    let token = getCookie('token');\r\n    if (token !== null) {\r\n        dispatch(actions.setLoadingStatus(true));\r\n        let data = await decksAPI.deleteDeck(token, id);\r\n        setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n        if (data.success) dispatch(actions.deleteDeck(data.deletedCardsPack._id))\r\n    } else console.log('ERROR: token is null!!!');\r\n};\r\n\r\nexport const addDeck = (cardsPack: PostOrPutCardsPackType): ThunkType => async (dispatch: ThunkActionType) => {\r\n    let token = getCookie('token');\r\n    if (token !== null) {\r\n        dispatch(actions.setLoadingStatus(true));\r\n        let newDeck = {cardsPack, token};\r\n        let data = await decksAPI.postDeck(newDeck);\r\n        setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n        dispatch(getDecksMe());\r\n    } else console.log('ERROR: token is null!!!');\r\n};\r\n\r\nexport const createOrEditDeckWithCards = (cardsPack?: PostOrPutCardsPackType, editedCards?: Array<PostOrPutCardType>, newCards?: Array<PostOrPutCardType>): ThunkType =>\r\n    async (dispatch: any, getState: () => AppStateType) => {\r\n        let token = getCookie('token');\r\n        if (token !== null) {\r\n            dispatch(actions.setLoadingStatus(true));\r\n            let newCardPackId: string | undefined;\r\n            let editedPackId = getState().cardDecksReducer.editedDeckId;\r\n            if (cardsPack) {\r\n                await (async () => {\r\n                    if (cardsPack._id) {\r\n                        let editedDeck = {cardsPack, token};\r\n                        let data = await decksAPI.putDeck(editedDeck);\r\n                        setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n                    } else {\r\n                        let newDeck = {cardsPack, token};\r\n                        let data = await decksAPI.postDeck(newDeck);\r\n                        newCardPackId = data.newCardsPack._id;\r\n                        setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n                    }\r\n                })()\r\n            }\r\n            if (editedCards) {\r\n                let existingCards: Array<CardType> = [];\r\n                const oldCards = getState().cards.cards;\r\n                ///\r\n                for (let card of editedCards) {\r\n                    let iterableCard = oldCards.find(oldCard => oldCard._id === card._id)\r\n                    if (iterableCard) {\r\n                        existingCards.push(iterableCard);\r\n                        if (iterableCard.answer !== card.answer || iterableCard.question !== card.question) {\r\n                            await (async () => {\r\n                                let token = getCookie('token');\r\n                                if (token !== null) {\r\n                                    let editedCard = {card, token};\r\n                                    let data = await cardsAPI.putCard(editedCard);\r\n                                    setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n                                }\r\n                            })()\r\n                        }\r\n                    }\r\n                }\r\n                //\r\n                debugger\r\n                if (existingCards.length !== 0) {\r\n                    let cardsForDelete = oldCards.filter(card => !existingCards.includes(card));\r\n                    if (cardsForDelete.length !== 0) {\r\n                        for (let card of cardsForDelete) {\r\n                            await (async () => {\r\n                                let token = getCookie('token');\r\n                                if (token !== null) {\r\n                                    let data = await cardsAPI.deleteCard(token, card._id);\r\n                                    setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n                                }\r\n                            })()\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            //\r\n            if (newCards) {\r\n                for (let card of newCards) {\r\n                    await (async () => {\r\n                        let token = getCookie('token');\r\n                        if (token !== null) {\r\n                            let newCard = {\r\n                                cardsPack_id: (editedPackId ? editedPackId : newCardPackId)!,\r\n                                question: card.question!,\r\n                                answer: card.answer!\r\n                            }\r\n                            let createdCard = {card: newCard, token};\r\n                            let data = await cardsAPI.postCard(createdCard);\r\n                            setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n                        }\r\n                    })()\r\n                }\r\n            }\r\n            if (newCardPackId) {\r\n                dispatch(actions.setRedirectedId(newCardPackId));\r\n            } else {\r\n                dispatch(actions.setRedirectedId(getState().cardDecksReducer.editedDeckId));\r\n                dispatch(actions.setEditedDeckId(''));\r\n            }\r\n            dispatch(actions.setLoadingStatus(false));\r\n        } else console.log('ERROR: token is null!!!');\r\n    };\r\n\r\nexport const choosePage = (page: number): ThunkType => async (dispatch: ThunkActionType) => {\r\n    let token = getCookie('token');\r\n    if (token !== null) {\r\n        dispatch(actions.setLoadingStatus(true));\r\n        let data = await decksAPI.getDecks(token, page);\r\n        setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n        dispatch(actions.setDecks(data));\r\n        dispatch(actions.setPage(page))\r\n    } else console.log('ERROR: token is null!!!');\r\n};\r\n\r\nexport const searchDeck = (deckName: string): ThunkType => async (dispatch: ThunkActionType) => {\r\n    let token = getCookie('token');\r\n    if (token !== null) {\r\n        dispatch(actions.setLoadingStatus(true));\r\n        let data = await decksAPI.searchDecks(token, deckName);\r\n        setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n        dispatch(actions.setDecks(data));\r\n    } else console.log('ERROR: token is null!!!');\r\n};\r\n\r\nexport const putDeck = (cardsPack: PostOrPutCardsPackType): ThunkType => async (dispatch: ThunkActionType) => {\r\n    let token = getCookie('token');\r\n    if (token !== null) {\r\n        dispatch(actions.setLoadingStatus(true));\r\n        let editedDeck = {cardsPack, token};\r\n        let data = await decksAPI.putDeck(editedDeck);\r\n        setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n        dispatch(getDecks());\r\n    } else console.log('ERROR: token is null!!!');\r\n};\r\n\r\nexport default cardDecksReducer;","import {AppStateType, InferActionTypes} from \"../../main/bll/store\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {getCookie, setCookie} from \"../../01-auth/bll/cookies\";\r\nimport {CardType, GetCardsType, PostOrPutCardType} from \"../api/entities-cardsAPI\";\r\nimport { cardsAPI } from \"../api/cardsAPI\";\r\n\r\ntype CardsType = {\r\n    cards: Array<CardType>,\r\n    cardsTotalCount: number,\r\n    maxGrade: string,\r\n    minGrade: number,\r\n    page: number\r\n    pageCount: number,\r\n    token: string,\r\n    tokenDeathTime: number,\r\n    isLoading: boolean\r\n}\r\n\r\nlet initialState: CardsType = {\r\n    cards: [],\r\n    cardsTotalCount: 0,\r\n    maxGrade: '',\r\n    minGrade: 0,\r\n    page: 0,\r\n    pageCount: 0,\r\n    token: '',\r\n    tokenDeathTime: 0,\r\n    isLoading: false,\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\nconst cardsReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"cardsReducer/SET_CARDS\":\r\n            return {\r\n                ...state,\r\n                ...action.cards,\r\n                // cards: action.cards.cards,\r\n                cards: action.cards.cards.map(card => ({...card})),\r\n                isLoading: false\r\n            };\r\n        case \"cardsReducer/DELETE_CARD\":\r\n            return {\r\n                ...state,\r\n                cards: state.cards.filter((card) => card._id !== action.id),\r\n                isLoading: false\r\n            }\r\n        case \"cardsReducer/LOADING_STATUS\":\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading,\r\n            }\r\n        case \"cardReducer/SET_PAGE\":\r\n            return {\r\n                ...state,\r\n                page: action.page\r\n            }\r\n        case \"cardReducer/SET_GRATE_CARD\":\r\n            return {\r\n                ...state,\r\n                cards: state.cards.map((card) => {\r\n                    if (card._id === action.id)\r\n                        return {...card, grade: action.grate}\r\n                    else return card\r\n                })\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    setCards: (cards: GetCardsType) => ({type: \"cardsReducer/SET_CARDS\", cards} as const),\r\n    deleteCard: (id: string) => ({type: \"cardsReducer/DELETE_CARD\", id} as const),\r\n    setLoadingStatus: (isLoading: boolean) => ({type: \"cardsReducer/LOADING_STATUS\", isLoading} as const),\r\n    setPage: (page: number) => ({type: \"cardReducer/SET_PAGE\", page} as const),\r\n    setGrateCard: (id: string, grate: number) => ({type: \"cardReducer/SET_GRATE_CARD\", id, grate} as const),\r\n}\r\n\r\ntype ActionsTypes = InferActionTypes<typeof actions>;\r\n\r\nexport const getCards = (deckId: string): ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any) => {\r\n        let token = getCookie('token');\r\n        if (token !== null) {\r\n            dispatch(actions.setLoadingStatus(true));\r\n            let data = await cardsAPI.getCards(token, deckId);\r\n            setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n            dispatch(actions.setCards(data))\r\n        } else console.log('ERROR: token is null!!!');\r\n    };\r\n\r\nexport const deleteCard = (id: string): ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any) => {\r\n        let token = getCookie('token');\r\n        if (token !== null) {\r\n            dispatch(actions.setLoadingStatus(true));\r\n            let data = await cardsAPI.deleteCard(token, id);\r\n            setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n            if (data.success) dispatch(actions.deleteCard(data.deletedCard._id))\r\n        } else console.log('ERROR: token is null!!!');\r\n    };\r\n\r\nexport const postCard = (card: PostOrPutCardType): ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any) => {\r\n        let token = getCookie('token');\r\n        if (token !== null) {\r\n            dispatch(actions.setLoadingStatus(true));\r\n            let newCard = {card, token};\r\n            let data = await cardsAPI.postCard(newCard);\r\n            setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n            dispatch(getCards(card.cardsPack_id));\r\n        } else console.log('ERROR: token is null!!!');\r\n    };\r\n\r\nexport const chooseCardsPage = (page: number, deckId: string): ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any, getState: () => AppStateType) => {\r\n        let token = getCookie('token');\r\n        if (token !== null) {\r\n            dispatch(actions.setLoadingStatus(true));\r\n            let data = await cardsAPI.getCards(token, deckId, page);\r\n            setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n            dispatch(actions.setCards(data));\r\n            dispatch(actions.setPage(page))\r\n        } else console.log('ERROR: token is null!!!');\r\n    };\r\n\r\nexport const putCard = (card: PostOrPutCardType): ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any) => {\r\n        let token = getCookie('token');\r\n        if (token !== null) {\r\n            dispatch(actions.setLoadingStatus(true));\r\n            let editedCard = {card, token};\r\n            let data = await cardsAPI.putCard(editedCard);\r\n            setCookie('token', data.token, Math.floor(data.tokenDeathTime / 1000) - 180);\r\n            dispatch(getCards(card.cardsPack_id));\r\n        } else console.log('ERROR: token is null!!!');\r\n    };\r\n\r\nexport const putGradeCard = (id: string, grate: number): ThunkAction<void, AppStateType, unknown, ActionsTypes> =>\r\n    async (dispatch: any) => {\r\n        dispatch(actions.setGrateCard(id, grate))\r\n    };\r\n\r\nexport default cardsReducer;","import {AppStateType, InferActionTypes} from \"../../main/bll/store\";\r\nimport {getMe} from \"./login-reducer\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {DEV_VERSION} from \"../../config\";\r\nimport {InitializationType} from \"./entities-auth-bll\";\r\n\r\nlet initialState: InitializationType = {\r\n    isInitializedApp: null\r\n};\r\n\r\nconst initReducer = (state = initialState, action: ActionsTypes): InitializationType => {\r\n    switch (action.type) {\r\n        case \"init-reducer/INITIALIZED\":\r\n            return {\r\n                ...state,\r\n                isInitializedApp: action.isInitializedApp\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    setInitializationStatus: (isInitializedApp: boolean) =>\r\n        ({type: \"init-reducer/INITIALIZED\", isInitializedApp} as const)\r\n}\r\n\r\ntype ActionsTypes = InferActionTypes<typeof actions>\r\n\r\nexport const initializationApp = () => {\r\n    return (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>, getState: () => AppStateType) => {\r\n\r\n        DEV_VERSION && console.log('CALL initReducer -> initializationApp');\r\n        dispatch(getMe())\r\n            .then((response: { success: boolean, error: boolean, errorMessage: string }) => {\r\n                dispatch(actions.setInitializationStatus(response.success))\r\n                DEV_VERSION && console.log(`    response: ${response}`);\r\n            })\r\n    }\r\n}\r\n\r\nexport default initReducer","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport loginReducer from \"../../01-auth/bll/login-reducer\";\r\nimport registrationReducer from \"../../01-auth/bll/registration-reducer\";\r\nimport recoveryPasswordReducer from \"../../01-auth/bll/recoveryPassword-reducer\";\r\nimport cardDecksReducer from \"../../02-tables/bll/cardDecksReducer\";\r\nimport cardsReducer from \"../../02-tables/bll/cardsReducer\";\r\nimport initReducer from \"../../01-auth/bll/init-reducer\";\r\nimport requestStatusesReducer from \"../../01-auth/bll/request-statuses-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    init: initReducer,\r\n    requestStatus: requestStatusesReducer,\r\n    registration: registrationReducer,\r\n    login:loginReducer,\r\n    recoveryPassword: recoveryPasswordReducer,\r\n\r\n    cardDecksReducer: cardDecksReducer,\r\n    cards: cardsReducer,\r\n    form: formReducer\r\n});\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\ntype PropertiesType<T> = T extends { [key: string]: infer U } ? U : never;\r\nexport type InferActionTypes<T extends {[key: string]: (...args:any)=> any}> = ReturnType<PropertiesType<T>>\r\n\r\nexport default createStore(rootReducer, applyMiddleware(thunk));","import styled from 'styled-components/macro';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const H1 = styled.h1<{color?: string}>`\r\n    font-size: 27px;\r\n    color: ${props => props.color ? props.color : \"#5c5c5c\"};\r\n    font-family: DINNextLTPro-Medium;\r\n    font-weight: 400;\r\n    margin: 20px 0 0;\r\n`;\r\n\r\nexport const H3 = styled.h3<{ color?: string, fontSize?: string }>`\r\n    font-size: ${props => props.fontSize ? props.fontSize : \"21px\"}; \r\n    text-align: center;\r\n    color: ${props => props.color ? props.color : \"#5c5c5c\"};\r\n`;\r\n\r\nexport const Span = styled.p`\r\n    font-size: 15px;\r\n    text-align: center;\r\n    //color: #898989;\r\n    color: ${props => props.color === \"red\" ? \"red\" : \"#898989\"};\r\n    font-family:${props => props.color === \"red\" ? \"DINNextLTPro-Bold\" : \"DINNextLTPro-Regular\"}; // 'DINNextLTPro-Bold';\r\n`;\r\n\r\nexport const BlockWrapper = styled.div`\r\n    margin-bottom: 30px;\r\n    width: 100%;\r\n`;\r\nexport const FlexRowCenter = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\nexport const ContainerWrapper = styled(FlexRowCenter)`\r\n    margin: 0 auto;\r\n    @media (max-width: 924px){\r\n      margin: 2% 2%;\r\n    }\r\n    @media (min-width: 925px){\r\n      max-width: 912px;\r\n    }\r\n    @media (min-width: 1100px) {\r\n      max-width: 1082px;\r\n    }\r\n`;\r\nexport const Button = styled.button`\r\n    font-family: 'DINNextLTPro-Bold';\r\n    font-size: 15px;\r\n    padding: 13px 25px 9px;\r\n    margin-top: ${props => props.color === \"white\" ? \"0\" : \"20px\"};\r\n    border: none;\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n    \r\n    background: ${props => props.color === \"white\" ? \"#fff\" : \"#32cdff\"};\r\n    color: ${props => props.color === \"white\" ? \"#32cdff\" : \"#fff\"};\r\n    text-transform: uppercase;\r\n    \r\n    &:hover {\r\n        filter: brightness(95%);\r\n    }\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n    &:disabled {\r\n        //cursor: default;\r\n        //opacity: .4;\r\n        background-color: #b0afaf;\r\n        cursor: not-allowed;\r\n    }\r\n`;\r\nexport const TextLink = styled(NavLink)`\r\n    font-family: 'DINNextLTPro-Bold';\r\n    font-size: 15px;\r\n    color: #32cdff;\r\n    padding: 6px 5px 4px;\r\n    margin-top: 10px;\r\n    cursor: pointer;\r\n    text-transform: uppercase;\r\n    text-decoration: none;\r\n       \r\n    &:hover {\r\n        filter: brightness(95%);\r\n    }\r\n`;\r\nexport const TransparentButton = styled.button`\r\n    font-family: 'DINNextLTPro-Bold';\r\n    font-size: 15px;\r\n    padding: 10px 15px 6px;\r\n    margin: 20px 10px 0px 10px;\r\n    background-color: transparent;\r\n    border: 2px solid #32cdff;\r\n    border-radius: 7px;\r\n    color: #32cdff;\r\n    cursor: pointer;\r\n    text-align: center; \r\n    text-transform: uppercase;\r\n    text-decoration: none;\r\n    \r\n    &:hover {\r\n        filter: brightness(95%);\r\n    }\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n    &:disabled {\r\n        //cursor: default;\r\n        //opacity: .4;\r\n        background-color: #b0afaf;\r\n        cursor: not-allowed;\r\n    }\r\n`;\r\n\r\n","// https://reactjsexample.com/a-collection-of-loading-spinners-with-react-js-2/\r\nimport React from 'react';\r\nimport {ImpulseSpinner} from \"react-spinners-kit\";\r\nimport {FlexRowCenter} from '../../style/commonStyle';\r\n\r\ntype PreloaderType = {\r\n    size?: number\r\n    backColor?: string\r\n    frontColor?: string\r\n    isLoading: boolean\r\n}\r\n\r\nconst Preloader: React.FC<PreloaderType> = ({size, backColor, frontColor, isLoading}) => {\r\n\r\n    return (\r\n        <FlexRowCenter>\r\n            <ImpulseSpinner size={size ? size : 30}\r\n                            backColor={backColor ? backColor : '#fff'}\r\n                            frontColor={frontColor ? frontColor : '#32cdff'}\r\n                            loading={isLoading}/>\r\n        </FlexRowCenter>\r\n    )\r\n}\r\n\r\nexport default Preloader;\r\n","import styled from 'styled-components/macro';\r\nimport {BlockWrapper, ContainerWrapper, FlexRowCenter} from \"./commonStyle\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const HeaderWrapper = styled(BlockWrapper)`\r\n    background-color: #32cdff;\r\n    box-shadow: 0 3px 5px rgba(0,0,0,.05);\r\n    height: 60px;\r\n    display: flex;\r\n`;\r\nexport const HeaderContainer = styled(ContainerWrapper)`\r\n    justify-content: space-between;\r\n    width: 100%;\r\n`;\r\nexport const LogoLinkBlock = styled(FlexRowCenter)`\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n`;\r\nexport const LogoImg = styled.img`\r\n    height: 44px;\r\n    width: 44px;\r\n    margin-right: 5px;\r\n`;\r\nexport const LogoText = styled.span`\r\n    font-family: 'DINNextLTPro-Bold';\r\n    font-size: 30px;\r\n    color: #fff;\r\n    text-transform: lowercase;\r\n`;\r\nexport const MenuNavLink = styled(NavLink)`\r\n    font-family: 'DINNextLTPro-Bold';\r\n    font-size: 15px;\r\n    color: #fff;\r\n    text-transform: uppercase;\r\n    text-decoration: none;\r\n    margin-top: 6px;\r\n    margin-right: 40px;\r\n    opacity: .8;\r\n    cursor: pointer;\r\n    \r\n    &:hover {\r\n      opacity: 1;\r\n      border-bottom: 2px solid #fff;\r\n      padding-top: 2px;\r\n    }\r\n    &:last-child{\r\n      margin-right: 0px\r\n    }\r\n`;\r\nexport const IconDiv = styled.div`\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n`;\r\n","import styled from 'styled-components/macro';\r\nimport {BlockWrapper, ContainerWrapper} from \"./commonStyle\";\r\n\r\nexport const MainWrapper = styled(BlockWrapper)`\r\n    //height: 650px;\r\n    min-height: 500px;\r\n`;\r\nexport const MainContainer = styled(ContainerWrapper)<{whiteBox?: boolean}>`\r\n    background-color: ${p => p.whiteBox ? '#fff' : '#f7f7f7'}; \r\n    border: none;\r\n    border-radius: 10px;\r\n    box-shadow: ${p => p.whiteBox ? ' 0 0 25px 0 rgba(0,0,0,.04)' : 'none'};\r\n    //padding: 10px 30px;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {InfoHeader, Name} from \"./cardDecks\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {CardPackType} from \"../api/entities-decksAPI\";\r\n\r\nexport const DeckWrapper = styled.div`\r\n  padding: 10px 0;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  border-top: 2px solid #e8e8e8;\r\n  background-color: #fff;\r\n  &:hover {\r\n        filter: brightness(95%);\r\n    }\r\n`;\r\n\r\n// const DeleteButton = styled.button`\r\n//   width: 100px;\r\n//   height: 50px;\r\n//   margin-left: 5px;\r\n//   text-align: left;\r\n//   line-height: 50px;\r\n//   background-color: coral;\r\n//   border-radius: 10px;\r\n//   cursor: pointer;\r\n// `;\r\n\r\nexport const ActionsMenu = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  font-size: 15px;\r\n`;\r\n\r\nexport const Action = styled.div<{ backgroundColor: string }>`\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  background-color: ${props => props.backgroundColor};\r\n  padding: 2px 15px;\r\n  margin-bottom: 5px;\r\n  font-size: 14px;\r\n  \r\n  &:hover {\r\n   //color: #32cdff;\r\n   opacity: .8;\r\n  }\r\n`;\r\nexport const NameDeckNavLink = styled(NavLink)`\r\n    font-family: 'DINNextLTPro-Bold';\r\n    //font-size: 15px;\r\n    color: #32cdff;\r\n    text-decoration: none;\r\n    opacity: .8;\r\n    cursor: pointer;\r\n    \r\n    &:hover {\r\n        opacity: 1;\r\n    }\r\n`;\r\n\r\ntype PropsType = CardPackType & AdditionalPropsType;//  \r\n\r\ntype AdditionalPropsType = {\r\n    deletePack: (id: string) => void,\r\n    editPack: (id: string) => void\r\n}\r\n\r\nconst Deck = ({_id, name, grade, shots, rating, deletePack, editPack}: PropsType) => {\r\n    return (\r\n        <DeckWrapper>\r\n            <Name>\r\n                <NameDeckNavLink to={`/profile/cards/${_id}`}>\r\n                    {name}\r\n                </NameDeckNavLink>\r\n            </Name>\r\n            <InfoHeader>{grade}</InfoHeader>\r\n            <InfoHeader>{shots}</InfoHeader>\r\n            <InfoHeader>{rating}</InfoHeader>\r\n            <ActionsMenu>\r\n                <Action backgroundColor={\"#ff506480\"} onClick={() => deletePack(_id)}>Delete</Action>\r\n                <Action backgroundColor={\"#ffff0080\"} onClick={() => editPack(_id)}>Change</Action>\r\n            </ActionsMenu>\r\n        </DeckWrapper>\r\n    )\r\n}\r\n\r\nexport default Deck","import React from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport Deck from \"./deck\";\r\nimport {CardPackType} from \"../api/entities-decksAPI\";\r\n\r\nexport const DecksWrapper = styled.div`\r\n  width: 100%;\r\n  border: 2px solid #e8e8e8;\r\n  border-radius: 10px;\r\n  position: relative;\r\n  margin: 30px 0px;\r\n`;\r\n\r\nexport const DeckHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  color: #c4c4c4;\r\n  background: #f7f7f7;\r\n  padding: 10px 0;\r\n  border-top-left-radius: 10px;\r\n  border-top-right-radius: 10px;\r\n`;\r\n\r\nexport const Name = styled.div`\r\n  margin-left: 15px;\r\n  text-align: left;\r\n  font-size: 18px;\r\n  flex-basis: 30%;\r\n`;\r\n\r\nexport const InfoHeader = styled(Name)`\r\n  flex-basis: 10%;\r\n`;\r\n\r\ntype PropsType = {\r\n    decks: Array<CardPackType>,\r\n    deletePack: (id: string) => void,\r\n    editPack: (id: string) => void,\r\n}\r\n\r\nconst CardDecks = ({decks, deletePack, editPack}: PropsType) => {\r\n    return (\r\n        <DecksWrapper>\r\n            <DeckHeader>\r\n                <Name>Deck name</Name>\r\n                <InfoHeader>Grade</InfoHeader>\r\n                <InfoHeader>Shots</InfoHeader>\r\n                <InfoHeader>Rating</InfoHeader>\r\n                <InfoHeader>Actions</InfoHeader>\r\n            </DeckHeader>\r\n            {decks.map(deck => <Deck key={deck._id} {...deck} deletePack={deletePack} editPack={editPack}/>)}\r\n        </DecksWrapper>\r\n    )\r\n}\r\n\r\nexport default CardDecks","import React, {useMemo} from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nconst PaginationWrapper = styled.div<{textAlign: string}>`\r\n  margin: 10px 0;\r\n  text-align: ${props => props.textAlign};\r\n  user-select: none;\r\n`;\r\n\r\nconst PageWrapper = styled.div`\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin: 0 2px;\r\n`;\r\n\r\nconst Page = styled.div<{current: boolean, disabled?: boolean}>`\r\n  position: relative;\r\n  border-radius: 4px;\r\n  display: block;\r\n  text-align: center;\r\n  width: 42px;\r\n  height: 42px;\r\n  line-height: 42px;\r\n  margin-left: -1px;\r\n  color: ${props => props.current ? 'white' : props.disabled ? '#B0B0B0' : 'black'};\r\n  transition: .3s;\r\n  background-color: ${props => props.current ? '#32cdff' : 'inherit'};\r\n  border-color: ${props => props.current ? '#32cdff' : 'inherit'};\r\n  cursor: ${props => props.disabled || props.current ? 'inherit' : 'pointer'};\r\n  &:hover, &:focus, &:active {\r\n    background-color: ${props => props.disabled ? 'inherit' : '#32cdff'};\r\n    border-color: ${props => props.disabled ? 'inherit' : '#32cdff'};\r\n    color: ${props => props.disabled ? '#B0B0B0' : 'white'};\r\n  }\r\n`;\r\n\r\ntype PropsType = {\r\n    totalCount: number,\r\n    onPageCount: number,\r\n    currentPage: number,\r\n    textAlign: string,\r\n    changePage: (page: number) => void\r\n}\r\n\r\nconst Pagination = ({totalCount, onPageCount, currentPage, textAlign, changePage}: PropsType) => {\r\n\r\n    const pages = useMemo(() => {\r\n        let pages = [];\r\n        let pageCount = Math.ceil(totalCount / onPageCount);\r\n        for (let i = 1; i <= pageCount; i++) {\r\n            pages.push(i)\r\n        }\r\n        return pages\r\n    },[totalCount, onPageCount]);\r\n\r\n    const previousPageClick = () => {\r\n        if (currentPage !== 1) changePage(currentPage-1)\r\n    }\r\n    const nextPageClick = () => {\r\n        if (currentPage !== pages[pages.length - 1]) changePage(currentPage+1)\r\n    }\r\n\r\n    return (\r\n        <PaginationWrapper textAlign={textAlign}>\r\n            <PageWrapper onClick={previousPageClick}>\r\n                <Page current={false} disabled={currentPage === 1}><FontAwesomeIcon icon='angle-up' rotation={270}/></Page>\r\n            </PageWrapper>\r\n            {pages.map(page =>\r\n                <PageWrapper key={page} onClick={() => changePage(page)}>\r\n                    <Page current={page === currentPage}>\r\n                        {page}\r\n                    </Page>\r\n                </PageWrapper>)}\r\n            <PageWrapper onClick={nextPageClick}>\r\n                <Page current={false} disabled={currentPage === pages[pages.length - 1]}>\r\n                    <FontAwesomeIcon icon='angle-up' rotation={90}/>\r\n                </Page>\r\n            </PageWrapper>\r\n        </PaginationWrapper>\r\n\r\n    )\r\n};\r\n\r\nexport default Pagination","import React, {useRef} from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {FlexRowCenter} from \"../../style/commonStyle\";\r\n\r\ntype PropsType = {\r\n    height?: string\r\n    width?: string\r\n    closeModal: () => void\r\n}\r\n\r\nconst Modal: React.FC<PropsType> = ({children, closeModal, height, width}) => {\r\n\r\n    const ref = useRef<HTMLDivElement>(null)\r\n    const onClickHandler = (e: React.MouseEvent) => {\r\n        if (e.target === ref.current) {\r\n            closeModal()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Wrapper onClick={onClickHandler} ref={ref}>\r\n            <ChildWrapper height={height} width={width}>\r\n                {children}\r\n            </ChildWrapper>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport default Modal\r\n\r\nconst Wrapper = styled(FlexRowCenter)`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 999;\r\n`;\r\n\r\nconst ChildWrapper = styled(FlexRowCenter)<{ height?: string, width?: string }>`\r\n  height: ${props => props.height ? props.height : 'auto'};\r\n  width: ${props => props.width ? props.width : 'auto'};\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  box-shadow: 0 0 15px dimgray;\r\n  padding: 40px 40px;\r\n  position: relative;\r\n  flex-direction: column;\r\n`;","import styled from 'styled-components/macro';\r\n\r\nexport const FormStyled = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-width: 300px;\r\n    text-align: center;\r\n    margin-bottom: 30px;\r\n`;\r\n\r\nexport const InputCheckBoxDiv = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-family: 'DINNextLTPro-Bold';\r\n    font-size: 16px;\r\n    color: #5c5c5c;\r\n    margin-bottom: 10px;\r\n`;\r\nexport const InputDiv = styled.div`\r\n    width: 100%;\r\n`\r\nexport const InputStyled = styled.input<{hasError: boolean}>`\r\n    font-family: 'DINNextLTPro-Bold';\r\n    font-size: 16px;\r\n    border: none;\r\n    //border-bottom: 2px solid #c4c4c4;\r\n    border-bottom: ${props => props.hasError ? \"1px solid red\" : \"1px solid #c4c4c4\"};\r\n    margin: 15px 0;\r\n    width: ${props => props.type === \"checkbox\" ? \"auto\" : \"100%\"}; //100%;\r\n    margin-right: ${props => props.type === \"checkbox\" ? \"10px\" : \"0\"}; //100%;\r\n    color: #5c5c5c;\r\n    opacity: .7;\r\n    &:hover,\r\n    &:focus,\r\n    &:active {\r\n      opacity: 1;\r\n      outline:none;\r\n      border-bottom: 1px solid #32cdff;\r\n      ::-webkit-input-placeholder {\r\n      background-color: #fff;\r\n    }\r\n    }\r\n`;\r\nexport const Error = styled.input<{hasError: boolean}>`\r\n    font-family: 'DINNextLTPro-Bold';\r\n    font-size: 18px;\r\n    border: none;\r\n    //border-bottom: 2px solid #c4c4c4;\r\n    border-bottom: ${props => props.hasError ? \"2px solid red\" : \"2px solid #c4c4c4\"};\r\n    margin: 10px 0;\r\n    width: 100%;\r\n    color: #5c5c5c;\r\n    opacity: .5;\r\n`;\r\nexport const ErrorBlock = styled.div`\r\n    font-family: 'DINNextLTPro-Bold';\r\n    position: absolute;\r\n    padding: 0px 5px;\r\n    //line-height: 1.3em;\r\n    margin: -6px 0 0 20px;\r\n    color: #fff;\r\n    background: #ff4c4c;\r\n    &:after {\r\n        content: \" \";\r\n        position: absolute;\r\n        left: 5px;\r\n        bottom: 100%;\r\n        width: 0;\r\n        height: 0;\r\n        border-bottom: 10px solid #ff4c4c;\r\n        border-right: 10px solid transparent;\r\n    }\r\n`;\r\n\r\n\r\n// const PasswordInput = styled.input.attrs(props => ({\r\n//         // Every <PasswordInput /> should be type=\"password\"\r\n//         type: \"password\"\r\n//     }))``\r\n//\r\n//     // This specific one is hidden, so let's set aria-hidden\r\n//     <PasswordInput aria-hidden=\"true\" />","import React from \"react\";\r\nimport {ErrorBlock, InputStyled} from \"../../style/forForms/formControlsStyle\";\r\n\r\nexport const Input = ({input, meta, placeholder, ...props}: any) => {\r\n    const hasError = meta.touched && meta.error ? true : false;\r\n    return (\r\n        <>\r\n            <div>\r\n                <InputStyled hasError={hasError} {...input} {...props}\r\n                             errorText={meta.error}\r\n                             placeholder={placeholder}\r\n                />\r\n                {hasError && <ErrorBlock>{meta.error}</ErrorBlock>}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../main/ui/components/forForms/FormsControls\";\r\nimport {Button, Span} from \"../../main/ui/style/commonStyle\";\r\nimport Preloader from \"../../main/ui/components/preloader/Preloader\";\r\nimport {CardPackType} from \"../api/entities-decksAPI\";\r\n\r\nconst FormStyled = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 400px;\r\n    text-align: center;\r\n    margin: 0 auto ;\r\n`;\r\n\r\nconst FieldName = styled.div`\r\n    margin: 10px auto;\r\n    color: #32cdff;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n    width: 200px;\r\n    margin: 10px auto;\r\n`;\r\n\r\nconst StyledField = styled(Input)`\r\n    padding: 10px 0;\r\n    width: 300px;\r\n`;\r\n\r\n\r\ntype PropsType = {\r\n    isLoading: boolean,\r\n    deck?: CardPackType\r\n}\r\n\r\nconst EditDeckForm: React.FC<PropsType & InjectedFormProps<{}, PropsType>> =\r\n    ({error, handleSubmit, isLoading, deck}) => {\r\n        return (\r\n            <FormStyled onSubmit={handleSubmit}>\r\n                <FieldName>Deck name</FieldName>\r\n                <Field name=\"name\" component={StyledField} type=\"Name\" placeholder={deck!.name}/>\r\n                {error && <Span color={\"red\"}>{error}</Span>}\r\n                {isLoading && <Preloader size={30} backColor=\"#fff\" frontColor=\"#32cdff\" isLoading={isLoading}/>}\r\n                <StyledButton color={\"blue\"} disabled={isLoading}>Submit changes</StyledButton>\r\n            </FormStyled>\r\n        );\r\n    };\r\n\r\nexport const EditDeckReduxForm = reduxForm<{}, PropsType>({form: 'edit deck'})(EditDeckForm)\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../main/bll/store\";\r\nimport {actions, choosePage, deleteDeck, getDecksMe, putDeck} from \"../bll/cardDecksReducer\";\r\nimport Preloader from \"../../main/ui/components/preloader/Preloader\";\r\nimport CardDecks from \"./cardDecks\";\r\nimport styled from \"styled-components/macro\";\r\nimport Pagination from \"../pagination\";\r\nimport Modal from \"../../main/ui/components/modal-forms/modal\";\r\nimport {EditDeckReduxForm} from \"./editDeckForm\";\r\nimport {H3} from \"../../main/ui/style/commonStyle\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst CardDecksContainer = () => {\r\n\r\n    const {isLoading, cardPacksTotalCount, cardPacks, page, pageCount} =\r\n        useSelector((store: AppStateType) => store.cardDecksReducer);\r\n    // const userId = useSelector((store: AppStateType) => store.login.userId);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        dispatch(getDecksMe())\r\n    }, [dispatch]);\r\n\r\n    const deletePack = (id: string) => {\r\n        dispatch(deleteDeck(id))\r\n    };\r\n\r\n    const changePage = (page: number) => {\r\n        dispatch(choosePage(page))\r\n    };\r\n\r\n    const [{isModalOpened, editedDeckId}, setChangeModal] = useState({isModalOpened: false, editedDeckId: ''});\r\n    const closeModalWindow = () => setChangeModal({isModalOpened: false, editedDeckId: ''});\r\n    const editDeck = (deckId: string) => {\r\n        dispatch(actions.setEditedDeckId(deckId));\r\n        history.push(`/edit/${deckId}`)\r\n    };\r\n    const changePack = ({name}: any) => {\r\n        let editedPack = {\r\n            _id: editedDeckId,\r\n            name\r\n        }\r\n        dispatch(putDeck(editedPack));\r\n        closeModalWindow()\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {isLoading ? <Preloader size={30} backColor=\"#fff\" frontColor=\"#32cdff\" isLoading={isLoading}/> :\r\n                <Wrapper>\r\n                    {cardPacks.length === 0 ? <H3 color={\"#c4c4c4\"}>This user has no decks.</H3>\r\n                        :\r\n                        <>\r\n                            <p>Total count decks: {cardPacks.length}</p>\r\n                            <CardDecks decks={cardPacks} deletePack={deletePack} editPack={editDeck}/>\r\n                            <Pagination totalCount={cardPacksTotalCount} onPageCount={pageCount} currentPage={page}\r\n                                        textAlign={'center'}\r\n                                        changePage={changePage}/>\r\n                        </>\r\n                    }\r\n                </Wrapper>}\r\n            {isModalOpened &&\r\n            <Modal closeModal={closeModalWindow}>\r\n                <EditDeckReduxForm isLoading={isLoading} onSubmit={changePack}\r\n                                   deck={cardPacks.find(deck => deck._id === editedDeckId)}/>\r\n            </Modal>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CardDecksContainer\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  width: 100%;\r\n  align-items: flex-end;\r\n`;","import React from \"react\";\r\nimport {InfoHeader, Name} from \"../cardDecks/cardDecks\";\r\nimport {ActionsMenu, DeckWrapper, Action} from \"../cardDecks/deck\";\r\nimport {PROFILE_PATH} from \"../../main/ui/components/Body\";\r\nimport {Route} from \"react-router-dom\";\r\nimport {CardType} from \"../api/entities-cardsAPI\";\r\n\r\ntype PropsType = CardType & AdditionalPropsType;//  \r\n\r\ntype AdditionalPropsType = {\r\n    deleteCard: (id: string) => void,\r\n    editCard: (id: string) => void\r\n}\r\n\r\nconst Card = ({_id, question, grade, shots, rating, deleteCard, editCard}: PropsType) => {\r\n    return (\r\n        <DeckWrapper>\r\n            <Name>{question}</Name>\r\n            <InfoHeader>{grade}</InfoHeader>\r\n            <InfoHeader>{shots}</InfoHeader>\r\n            <InfoHeader>{rating}</InfoHeader>\r\n            <Route path={PROFILE_PATH}>\r\n            <ActionsMenu>\r\n                <Action backgroundColor={\"#ff506480\"} onClick={() => deleteCard(_id)}>Delete</Action>\r\n                <Action backgroundColor={\"#ffff0080\"} onClick={() => editCard(_id)}>Edit</Action>\r\n            </ActionsMenu>\r\n            </Route>\r\n        </DeckWrapper>\r\n    )\r\n}\r\n\r\nexport default Card","import React from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport Card from \"./Card\";\r\nimport {DeckHeader, DecksWrapper, InfoHeader, Name} from \"../cardDecks/cardDecks\";\r\nimport {Button} from \"../../main/ui/style/commonStyle\";\r\nimport {Route} from \"react-router-dom\";\r\nimport {PROFILE_PATH} from \"../../main/ui/components/Body\";\r\nimport {CardType} from \"../api/entities-cardsAPI\";\r\n\r\nexport const AddCardButton = styled(Button)`\r\n font-size: 35px;\r\n font-family: unset;\r\n border-radius: 100%;\r\n box-shadow: 0 2px 5px 0 rgba(0,0,0,.2);\r\n cursor: pointer;\r\n height: 32px;\r\n position: absolute;\r\n width: 32px;  \r\n padding: 0;\r\n left: 30px;\r\n bottom: -17px;\r\n line-height: 5px;\r\n &:hover:after { \r\n        content: \"add new card in deck\"; \r\n        font-family: 'DINNextLTPro-Bold';\r\n        position: absolute;\r\n        top: 20px;\r\n        left: 40px;\r\n        height: .9rem;   \r\n        background-color: #4c4c4c7a;\r\n        color: white;\r\n        //color: #5c5c5c;\r\n        width: max-content;\r\n        font-size: 14px;\r\n        text-transform: initial;\r\n        border-radius: 5px;\r\n        padding: 10px 12px 0px 10px;\r\n        filter: none;\r\n    }\r\n`;\r\n\r\ntype PropsType = {\r\n    cards: Array<CardType>,\r\n    deleteCard: (id: string) => void,\r\n    editCard: (id: string) => void,\r\n    addCard: () => void\r\n}\r\n\r\nconst CardsOfDecks = ({cards, deleteCard, editCard, addCard}: PropsType) => {\r\n    return (\r\n        <>\r\n            <DecksWrapper>\r\n                <DeckHeader>\r\n                    <Name>Question</Name>\r\n                    <InfoHeader>Grade</InfoHeader>\r\n                    <InfoHeader>Shots</InfoHeader>\r\n                    <InfoHeader>Rating</InfoHeader>\r\n                    <Route path={PROFILE_PATH}><InfoHeader>Actions</InfoHeader></Route>\r\n                </DeckHeader>\r\n                {cards.map(card => <Card key={card._id} {...card} deleteCard={deleteCard} editCard={editCard}/>)}\r\n                <Route path={PROFILE_PATH}>\r\n                    <AddCardButton onClick={addCard}>+</AddCardButton>\r\n                </Route>\r\n            </DecksWrapper>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CardsOfDecks","import React from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../main/ui/components/forForms/FormsControls\";\r\nimport {Button, Span} from \"../../main/ui/style/commonStyle\";\r\nimport Preloader from \"../../main/ui/components/preloader/Preloader\";\r\nimport {CardType} from \"../api/entities-cardsAPI\";\r\n\r\nconst FormStyled = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 400px;\r\n    text-align: center;\r\n    margin: 0 auto ;\r\n`;\r\n\r\nconst FieldName = styled.div`\r\n    margin: 10px auto;\r\n    color: #32cdff;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n    width: 200px;\r\n    margin: 10px auto;\r\n`;\r\n\r\nconst StyledField = styled(Input)`\r\n    padding: 10px 0;\r\n    width: 300px;\r\n`;\r\n\r\n\r\ntype PropsType = {\r\n    isLoading: boolean,\r\n    modalType: string\r\n    card?: CardType\r\n}\r\n\r\nconst EditCardForm: React.FC<PropsType & InjectedFormProps<{}, PropsType>>  =\r\n    ({error, handleSubmit, isLoading, card, modalType}) => {\r\n        return (\r\n            <FormStyled onSubmit={handleSubmit}>\r\n                <FieldName>Question</FieldName>\r\n                <Field name=\"question\" component={StyledField} type=\"Question\" placeholder={card ? card!.question : ''}/>\r\n                {error && <Span color={\"red\"}>{error}</Span>}\r\n                <FieldName>Answer</FieldName>\r\n                <Field name=\"answer\" component={StyledField} type=\"Answer\" placeholder={card ? card!.answer : ''}/>\r\n                {error && <Span color={\"red\"}>{error}</Span>}\r\n                {isLoading && <Preloader size={30} backColor=\"#fff\" frontColor=\"#32cdff\" isLoading={isLoading}/>}\r\n                <StyledButton color={\"blue\"} disabled={isLoading}>\r\n                    {modalType === 'edit' ? 'Submit changes' : 'Add card'}\r\n                </StyledButton>\r\n            </FormStyled>\r\n        );\r\n    };\r\n\r\nexport const EditCardReduxForm = reduxForm<{}, PropsType>({form: 'add or edit card'})(EditCardForm)\r\n","import React from \"react\";\r\nimport styled from \"styled-components/macro\";\r\n\r\ntype PropsType = {\r\n    text: string\r\n    isShowAnswer: boolean\r\n    // cards: Array<CardType>\r\n    changeShow: (isShowAnswer: boolean) => void,\r\n    // editCard: (id: string) => void,\r\n    // addCard: () => void\r\n}\r\n\r\nconst OneCard: React.FC<PropsType> = ({text, isShowAnswer, changeShow}) => {\r\n\r\n    const onChangeShow = () =>{\r\n        changeShow(!isShowAnswer)\r\n    }\r\n\r\n    return (\r\n        <OneCardWrapper onClick={onChangeShow}>\r\n            <p>{text}</p>\r\n        </OneCardWrapper>\r\n    )\r\n}\r\n\r\nexport default OneCard\r\n\r\nconst OneCardWrapper = styled.div`\r\n  font-size: 27px;\r\n  height: 323px;\r\n  margin-bottom: 30px;\r\n  width: 280px;\r\n  background-color: #fff;\r\n  border-radius: 12.5%/10.8375%;\r\n  box-shadow: 0 3px 10px 0 rgba(0,0,0,.18);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n`","import React from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {IconDefinition} from '@fortawesome/free-regular-svg-icons'\r\n\r\ntype PropsType = {\r\n    index: number\r\n    tooltip: string\r\n    icon: IconDefinition\r\n    grade: number\r\n    currentGradeCard: number\r\n    setGradeCard: (grade: number) => void,\r\n    // editCard: (id: string) => void,\r\n    // addCard: () => void\r\n}\r\n\r\nconst GradeIcon: React.FC<PropsType> = ({tooltip, icon, grade, currentGradeCard, index, setGradeCard}) => {\r\n\r\n    const onGradeCard = (): void =>{\r\n        // debugger\r\n        setGradeCard(grade);\r\n    }\r\n\r\n    return (\r\n            <IconWrapper onClick={onGradeCard}>\r\n                <IconFase text={tooltip} colorBlue={currentGradeCard === index}>\r\n                    <FontAwesomeIcon icon={icon}/>\r\n                </IconFase>\r\n            </IconWrapper>\r\n    )\r\n}\r\n\r\nexport default GradeIcon\r\n\r\nconst IconWrapper = styled.div`\r\nposition: relative;\r\n`\r\nconst IconFase = styled.div<{ text?: string, colorBlue?: boolean}>`\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n    font-size: 25px;\r\n    color: ${props => props.colorBlue ? \"#32cdff\" : \"#c4c4c4\"}; \r\n    cursor: pointer;\r\n    &:hover{\r\n      color: #32cdff;\r\n    }\r\n    &:hover:after { \r\n        content: '${props => props.text}'; \r\n        font-family: 'DINNextLTPro-Bold';\r\n        position: absolute;\r\n        bottom: -10px;\r\n        left: 5px;\r\n        height: .9rem;   \r\n        //background-color: #4c4c4c7a;\r\n        color: #32cdff;\r\n        width: max-content;\r\n        font-size: 14px;\r\n        text-transform: initial;\r\n        border-radius: 5px;\r\n        padding: 10px 12px 0px 10px;\r\n        filter: none;\r\n    }\r\n`;\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {Button, H3} from \"../main/ui/style/commonStyle\";\r\nimport OneCard from \"./OneCard\";\r\nimport styled from \"styled-components/macro\";\r\nimport {faDizzy, faFrown, faGrimace, faGrinStars, faMehRollingEyes} from '@fortawesome/free-regular-svg-icons'\r\nimport GradeIcon from \"./GradeIcon\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {putGradeCard} from \"../02-tables/bll/cardsReducer\";\r\nimport {CardType} from \"../02-tables/api/entities-cardsAPI\";\r\n\r\nconst grades = [\r\n    {iconTitle: faDizzy, tooltip: 'did not know', grade: 1},\r\n    {iconTitle: faFrown, tooltip: 'forgot', grade: 2},\r\n    {iconTitle: faMehRollingEyes, tooltip: 'thought for a long time', grade: 3},\r\n    {iconTitle: faGrimace, tooltip: 'mixed up', grade: 4},\r\n    {iconTitle: faGrinStars, tooltip: 'knew', grade: 5}\r\n];\r\n\r\n\r\ntype PropsType = {\r\n    cards: Array<CardType>\r\n    closeModal: () => void\r\n    // deleteCard: (id: string) => void,\r\n    // editCard: (id: string) => void,\r\n    // addCard: () => void\r\n}\r\n\r\nconst LearnCards: React.FC<PropsType> = ({cards, closeModal}) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const [isShowAnswer, setIsShowAnswer] = useState<boolean>(false);\r\n    const [currentCard, setCurrentCard] = useState<CardType>(cards[0])\r\n    const [countCard, setCountCard] = useState<number>(1)\r\n\r\n    useEffect(() => {\r\n        setCurrentCard(cards[countCard-1])\r\n    }, [cards, countCard]);\r\n\r\n    const onChangeShow = (isShow: boolean) => {\r\n        setIsShowAnswer(isShow)\r\n    }\r\n\r\n    const onNextCard = () => {\r\n        if (countCard !== cards.length) {\r\n            setCountCard(countCard + 1);\r\n            setCurrentCard(cards[countCard]);\r\n            setIsShowAnswer(false);\r\n        } else closeModal();\r\n    }\r\n    const setGradeCard = (grade: number) => {\r\n        dispatch(putGradeCard(currentCard._id, grade));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!isShowAnswer ?\r\n                <>\r\n                    <OneCard text={currentCard.question} isShowAnswer={isShowAnswer} changeShow={onChangeShow}/>\r\n                </>\r\n                :\r\n                <>\r\n                    <OneCard text={currentCard.answer} isShowAnswer={isShowAnswer} changeShow={onChangeShow}/>\r\n                </>\r\n            }\r\n            <H3 color={'#c4c4c4'} fontSize={'18px'}>Click on me to see the {!isShowAnswer ? 'answer' : 'question'}</H3>\r\n            <Button color={\"blue\"} onClick={onNextCard}>{countCard !== cards.length ? 'Continue' : 'Finish'}</Button>\r\n\r\n            <IconsWrapper>\r\n                {grades.map((item, index) => (\r\n                    <GradeIcon key={index} index={index+1} tooltip={item.tooltip} icon={item.iconTitle}\r\n                               setGradeCard={setGradeCard} grade={item.grade} currentGradeCard={currentCard.grade}/>\r\n                ))}\r\n            </IconsWrapper>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LearnCards\r\n\r\nconst IconsWrapper = styled.div`\r\nposition: absolute;\r\nbottom: 30px;\r\nleft: 30px;\r\ndisplay: flex;\r\n`","import React, {useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../main/bll/store\";\r\nimport Preloader from \"../../main/ui/components/preloader/Preloader\";\r\nimport {chooseCardsPage, deleteCard, getCards, postCard, putCard} from \"../bll/cardsReducer\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport CardsOfDecks from \"./CardsOfDeck\";\r\nimport Pagination from \"../pagination\";\r\nimport Modal from \"../../main/ui/components/modal-forms/modal\";\r\nimport {EditCardReduxForm} from \"./editCardForm\";\r\nimport {Button, H3} from \"../../main/ui/style/commonStyle\";\r\nimport {Wrapper} from \"../cardDecks/cardDecksContainer\";\r\nimport LearnCards from \"../../04-learn cards/LearnCards\";\r\n\r\nconst CardsContainer: React.FC = (props: any) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {isLoading, cards, cardsTotalCount, pageCount, page} = useSelector((store: AppStateType) => store.cards);\r\n    let deckId = props.match.params.deckId;\r\n\r\n    useEffect(() => {\r\n        dispatch(getCards(deckId))\r\n    }, [dispatch, deckId]);\r\n\r\n    const onDeleteCard = (id: string) => dispatch(deleteCard(id));\r\n\r\n    const changePage = (page: number) => dispatch(chooseCardsPage(page, deckId));\r\n\r\n    const [{isEditOpened, editedCardId}, switchEditModal] = useState({isEditOpened: false, editedCardId: ''});\r\n    const closeEditModal = () => switchEditModal({isEditOpened: false, editedCardId: ''});\r\n    const editCard = (cardId: string) => switchEditModal({isEditOpened: true, editedCardId: cardId});\r\n    const changeCard = ({question, answer}: any) => {\r\n        let card = {\r\n            cardsPack_id: deckId,\r\n            _id: editedCardId,\r\n            question, answer\r\n        }\r\n        dispatch(putCard(card));\r\n        switchEditModal({isEditOpened: false, editedCardId: ''})\r\n    };\r\n\r\n    const [isAddModalOpened, switchAddModal] = useState(false);\r\n    const openAddModal = () => switchAddModal(true);\r\n    const closeAddModal = () => switchAddModal(false);\r\n    const addCard = ({question, answer}: any) => {\r\n        let card = {\r\n            cardsPack_id: deckId,\r\n            question, answer\r\n        }\r\n        dispatch(postCard(card));\r\n        switchAddModal(false)\r\n    };\r\n\r\n    const [isLearnModalOpened, switchLearnModal] = useState(false);\r\n    const openLearnModal = () => switchLearnModal(true);\r\n    const closeLearnModal = () => switchLearnModal(false);\r\n\r\n    return (\r\n        <>\r\n            {isLoading ? <Preloader size={30} backColor=\"#fff\" frontColor=\"#32cdff\" isLoading={isLoading}/> :\r\n                <Wrapper>\r\n                    {cards.length === 0 ? <H3>This deck has no cards.</H3> :\r\n                        <>\r\n                            <Button color={\"blue\"} onClick={openLearnModal} >Learn</Button>\r\n                            <CardsOfDecks cards={cards} deleteCard={onDeleteCard} editCard={editCard}\r\n                                          addCard={openAddModal}/>\r\n                            <Pagination totalCount={cardsTotalCount} onPageCount={pageCount} currentPage={page}\r\n                                        textAlign={'center'}\r\n                                        changePage={changePage}/>\r\n                        </>\r\n                    }\r\n                </Wrapper>\r\n            }\r\n            {isEditOpened &&\r\n            <Modal closeModal={closeEditModal}>\r\n                <EditCardReduxForm isLoading={isLoading} onSubmit={changeCard} modalType={'edit'}\r\n                                   card={cards.find(card => card._id === editedCardId)}/>\r\n            </Modal>\r\n            }\r\n            {isAddModalOpened &&\r\n            <Modal closeModal={closeAddModal}>\r\n                <EditCardReduxForm isLoading={isLoading} onSubmit={addCard} modalType={'add'}/>\r\n            </Modal>\r\n            }\r\n            {isLearnModalOpened &&\r\n            <Modal closeModal={closeLearnModal} height={'500px'} width={'800px'}>\r\n                <LearnCards cards={cards} closeModal={closeLearnModal}/>\r\n            </Modal>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withRouter\r\n)(CardsContainer)\r\n\r\n","import React from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport {Button, H1, TransparentButton, FlexRowCenter} from \"../style/commonStyle\";\r\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\r\nimport {fas} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {IconDiv, LogoLinkBlock} from \"../style/headerStyle\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {logOut} from \"../../../01-auth/bll/login-reducer\";\r\nimport {AppStateType} from \"../../bll/store\";\r\nimport {NavLink, Redirect, Route} from \"react-router-dom\";\r\nimport {DECK_CARDS_PATH_ME, MAIN_PATH, PROFILE_PATH, SETTINGS_PATH} from \"./Body\";\r\nimport {MainContainer} from \"../style/bodyStyle\";\r\nimport noUserPhoto from '../images/no-user-photo.jpg'\r\nimport CardDecksContainer from \"../../../02-tables/cardDecks/cardDecksContainer\";\r\nimport CardsContainer from \"../../../02-tables/cards/cardsContainer\";\r\n\r\nlibrary.add(fas);\r\n\r\nconst Profile: React.FC = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {isAuthorized, name, avatar} = useSelector((store: AppStateType) => store.login);\r\n\r\n    const onLogOut = () => {\r\n        dispatch(logOut());\r\n    }\r\n    if (!isAuthorized)\r\n        return <Redirect to={MAIN_PATH}/>;\r\n    return (\r\n\r\n        <ProfileContainer>\r\n            <UserCardInfo>\r\n                <UserPhoto src={avatar || noUserPhoto} alt=\"no user photo\"/>\r\n                {/*userName*/}\r\n                <H1>{name}</H1>\r\n                <Line/>\r\n                <ButtonsBlock>\r\n                    <TransparentButton as={NavLink} to={SETTINGS_PATH}>\r\n                        <IconDiv><FontAwesomeIcon icon={['fas', 'cog']}/></IconDiv>\r\n                        Settings\r\n                    </TransparentButton>\r\n                    <TransparentButton onClick={onLogOut}>\r\n                        <IconDiv><FontAwesomeIcon icon={['fas', 'sign-out-alt']}/></IconDiv>\r\n                        Log out\r\n                    </TransparentButton>\r\n                </ButtonsBlock>\r\n            </UserCardInfo>\r\n            <UserDecksInfoContainer>\r\n                <Route path={DECK_CARDS_PATH_ME}>\r\n                    <CardsContainer/>\r\n                </Route>\r\n                <Route exact path={PROFILE_PATH}>\r\n                    <CardDecksContainer/>\r\n                </Route>\r\n            </UserDecksInfoContainer>\r\n        </ProfileContainer>\r\n    )\r\n}\r\n\r\nexport default Profile;\r\n\r\nexport const ProfileContainer = styled(MainContainer)`\r\n  align-items: flex-start;\r\n  justify-content: left;\r\n`;\r\nexport const UserDecksInfoContainer = styled(MainContainer)`\r\n  background-color: #fff;\r\n  //border-radius: 15px;\r\n  margin-left: 54px;\r\n  max-width: 776px;\r\n  //vertical-align: top;\r\n  //width: 776px;\r\n  padding: 20px 30px;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n  width: 70%;\r\n`;\r\nexport const UserCardInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 30%;\r\n`;\r\nconst UserPhoto = styled.img`\r\n  border: 5px solid #fff;\r\n  border-radius: 100%;\r\n  height: 120px;\r\n  margin: auto;\r\n  width: 120px;\r\n`;\r\nconst Line = styled.div`\r\n  background-color: #e8e8e8;\r\n  height: 1px;\r\n  margin: 15px 0;\r\n  width: 100%;\r\n`;\r\nconst ButtonsBlock = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`;\r\n","import React from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport {H1} from \"../../main/ui/style/commonStyle\";\r\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\r\nimport {fas} from \"@fortawesome/free-solid-svg-icons\";\r\nimport noDeckCover from \"../../main/ui/images/no-deck-cover.jpg\";\r\nimport {ProfileContainer, UserCardInfo, UserDecksInfoContainer} from '../../main/ui/components/Profile';\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../main/bll/store\";\r\nimport CardsContainer from \"./cardsContainer\";\r\nimport {CardPackType} from \"../api/entities-decksAPI\";\r\n\r\nlibrary.add(fas);\r\n\r\nconst DeckInfo: React.FC = (props: any) => {\r\n\r\n    // const dispatch = useDispatch();\r\n    let deckId: string = props.match.params.deckId;\r\n\r\n    const {cardPacks} = useSelector((store: AppStateType) => store.cardDecksReducer);\r\n\r\n    const deck: CardPackType | undefined = cardPacks.find((deck) => deck._id === deckId);\r\n    // debugger\r\n    // const {isAuthorized, email} = useSelector((store: AppStateType) => store.login);\r\n    //\r\n    // const onLogOut = () => {\r\n    //     dispatch(logOut());\r\n    // }\r\n    // if (!isAuthorized)\r\n    //     return <Redirect to={LOGIN_PATH}/>;\r\n\r\n    return (\r\n        <ProfileContainer>\r\n            <BlockDeckAbout>\r\n                <DeckCover src={noDeckCover} alt=\"deck cover\"/>\r\n                <H1>{deck?.name}\r\n                    {/*{email}*/}\r\n                </H1>\r\n                <p>User: {deck?.user_name}</p>\r\n            </BlockDeckAbout>\r\n            <UserDecksInfoContainer>\r\n                {/*<Route path={DECK_CARDS_PATH_USER}>*/}\r\n                <CardsContainer/>\r\n                {/*</Route>*/}\r\n                {/*<Route exact path={PROFILE_PATH}>*/}\r\n                {/*    <CardDecksContainer/>*/}\r\n                {/*</Route>*/}\r\n            </UserDecksInfoContainer>\r\n        </ProfileContainer>\r\n    )\r\n}\r\n\r\nexport default DeckInfo;\r\n\r\nconst BlockDeckAbout = styled(UserCardInfo)`\r\n  align-items: flex-start;\r\n`;\r\nexport const DeckCover = styled.img`\r\n  border-radius: 30px;\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n","export const requiredField = (value: string) => {\r\n    if (value)\r\n        return undefined;\r\n    else return \"Field is required\";\r\n}\r\n// export const compareField = (value: any, dispatch: any, props: any) => {\r\n//     if (value !== props.initialValues.userName)\r\n//         return undefined;\r\n//     else return \"Field not changed\";\r\n// }\r\n\r\nconst maxLength = (maxLength: number) => (value: string) => {\r\n    if (value.length >= maxLength)\r\n        return undefined;\r\n    else return `Password must be more than ${maxLength - 1} characters`;\r\n}\r\nexport const maxLength8 = maxLength(8);\r\n\r\nexport const emailValidation = (value: string) => {\r\n    return value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)\r\n        ? 'Invalid email address'\r\n        : undefined\r\n}","import React from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {DeckCover} from \"../02-tables/cards/DeckInfo\";\r\nimport noDeckCover from \"../main/ui/images/no-deck-cover.jpg\";\r\nimport {CardPackType} from \"../02-tables/api/entities-decksAPI\";\r\n\r\nconst DeckBlock = ({_id, name, grade, shots, rating, ...props}: CardPackType) => {\r\n    // debugger\r\n    return (\r\n        <DeckBlockWrapper as={NavLink} to={`/deck/${name}/cards/${_id}`}>\r\n            <DeckCoverWrapper>\r\n                <DeckCover src={noDeckCover} alt=\"deck cover\"/>\r\n            </DeckCoverWrapper>\r\n            <p>{name}</p>\r\n            <span>{grade} {shots} {rating}</span>\r\n        </DeckBlockWrapper>\r\n    )\r\n}\r\nexport default DeckBlock\r\n\r\n//styles\r\nconst DeckBlockWrapper = styled.div`\r\n  font-family: 'DINNextLTPro-Medium';\r\n  font-size: 15px;\r\n  margin: 0 1.5% 40px 1.5%;\r\n  width: 144px;\r\n  color: #5c5c5c;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  text-decoration: none;\r\n  opacity: .7;\r\n  &:hover{\r\n    opacity: 1;\r\n    outline:none;\r\n    //border: 1px solid #32cdff;\r\n  }\r\n`;\r\nconst DeckCoverWrapper = styled.div`\r\n  box-shadow: 0 2px 6px rgba(0,0,0,.1), 0 6px 0 -1px #fff, 0 7px 6px rgba(0,0,0,.1), 0 11px 0 -1px #fff, 0 12px 6px rgba(0,0,0,.1);\r\n  border-radius: 5px;\r\n  margin-bottom: 10px;\r\n`;","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../main/bll/store\";\r\nimport {choosePage, getDecks} from \"../02-tables/bll/cardDecksReducer\";\r\nimport Preloader from \"../main/ui/components/preloader/Preloader\";\r\nimport Pagination from \"../02-tables/pagination\";\r\nimport {MainContainer} from \"../main/ui/style/bodyStyle\";\r\nimport DeckBlock from \"./DeckBlock\";\r\nimport styled from \"styled-components/macro\";\r\n\r\nconst DecksAllContainer: React.FC = (props: any) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {\r\n        isLoading,\r\n        cardPacksTotalCount,\r\n        cardPacks,\r\n        page,\r\n        pageCount} = useSelector((store: AppStateType) => store.cardDecksReducer);\r\n    // const userId = useSelector((store: AppStateType) => store.login.userId);\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getDecks())\r\n    }, [dispatch]);\r\n\r\n    const changePage = (page: number) => {\r\n        dispatch(choosePage(page))\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {isLoading ? <Preloader size={30} backColor=\"#fff\" frontColor=\"#32cdff\" isLoading={isLoading}/> :\r\n                <DecksContainer whiteBox>\r\n                    <p>Total count decks: {cardPacksTotalCount}</p>\r\n                    <DecksAllWrapper>\r\n                        { cardPacks.map(deck => <DeckBlock key={deck._id} {...deck}/>) }\r\n                    </DecksAllWrapper>\r\n                    <Pagination totalCount={cardPacksTotalCount} onPageCount={pageCount} currentPage={page}\r\n                                textAlign={'none'}\r\n                                changePage={changePage}/>\r\n\r\n                </DecksContainer>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DecksAllContainer\r\n\r\n//styles\r\nconst DecksContainer = styled(MainContainer)`\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  justify-content: normal;\r\n  text-align: end;\r\n  padding: 15px 25px;\r\n`;\r\nconst DecksAllWrapper = styled.div`\r\n  display: flex;\r\n  //justify-content: space-around;\r\n  margin-top: 30px;\r\n  flex-wrap: wrap;\r\n`;","import React, {useEffect, useRef} from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {change, Field} from \"redux-form\";\r\nimport {Span} from \"../main/ui/style/commonStyle\";\r\nimport {Input} from \"../main/ui/components/forForms/FormsControls\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {CardType} from \"../02-tables/api/entities-cardsAPI\";\r\n\r\nconst FormStyled = styled.div`\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 30px 0;\r\n  position: relative;\r\n  &:hover {\r\n   background-color: #32cdff;;\r\n  }\r\n`;\r\n\r\nconst Card = styled.div`\r\n  font-size: 27px;\r\n  height: 323px;\r\n  margin-bottom: 30px;\r\n  width: 280px;\r\n  background-color: #fff;\r\n  border-radius: 12.5%/10.8375%;\r\n  box-shadow: 0 3px 10px 0 rgba(0,0,0,.18);\r\n  display: flex;\r\n  cursor: text;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  word-break: break-all;\r\n  word-wrap: break-word;\r\n  &:hover {\r\n    box-shadow: 0 0 10px 4px #32cdff\r\n  };\r\n  &:focus {\r\n    outline: none\r\n  };\r\n  &:empty::before {\r\n    content: attr(placeholder);\r\n    color: gray;\r\n  };\r\n  &:empty:focus::before {\r\n    content: \"\";\r\n  };\r\n  &:empty:focus {\r\n    line-height: 323px;\r\n  }\r\n`;\r\n\r\nconst InvisibleWrapper = styled.div`\r\n  display: none;\r\n`;\r\n\r\nconst DeleteCard = styled.button`\r\n  position: absolute;\r\n  top: 20%;\r\n  right: 1%;\r\n  color: #32cdff;\r\n  border-radius: 100%;\r\n  font-size: 30px;\r\n  border: none;\r\n  background-color: white;\r\n  height: 45px;\r\n  width: 45px;\r\n  line-height: 45px;\r\n  cursor: pointer;\r\n  outline: none;\r\n  &:hover {\r\n    color: white;\r\n    background-color: #32cdff;;\r\n  }\r\n`;\r\n\r\ntype PropsType = {\r\n    error?: string,\r\n    index?: number,\r\n    deleteCard?: (index: number, fullCardName: string) => void,\r\n    cardForEdit?: CardType,\r\n}\r\n\r\nconst SingleCardForm: React.FC<PropsType> =\r\n    ({error, index, cardForEdit, deleteCard}) => {\r\n\r\n        const dispatch = useDispatch();\r\n\r\n        const fullCardName = cardForEdit && cardForEdit._id ? `editedCards` :  `newCards`;\r\n        const questionFieldName = cardForEdit && cardForEdit._id ? `editedCards[${index}].question`\r\n            : cardForEdit ? `newCards[${index}].question` : 'question';\r\n        const answerFieldName = cardForEdit && cardForEdit._id ? `editedCards[${index}].answer`\r\n            : cardForEdit ? `newCards[${index}].answer` : 'answer';\r\n\r\n        const questionRef = useRef<HTMLDivElement>(null);\r\n        const answerRef = useRef<HTMLDivElement>(null);\r\n\r\n        useEffect(() => {\r\n            if (cardForEdit && cardForEdit._id) {\r\n                dispatch(change(\"editor\", questionFieldName, cardForEdit.question));\r\n                dispatch(change(\"editor\", answerFieldName, cardForEdit.answer));\r\n                dispatch(change(\"editor\", `editedCards[${index}].id`, cardForEdit._id));\r\n                questionRef.current!.innerText = cardForEdit.question;\r\n                answerRef.current!.innerText = cardForEdit.answer;\r\n            }\r\n        }, [cardForEdit]);\r\n\r\n        const onChangeQuestion = (e: React.FormEvent<HTMLDivElement>, name: string) => {\r\n            const value = e.currentTarget.textContent;\r\n            dispatch(change(\"editor\", name, value))\r\n        };\r\n        const onChangeAnswer = (e: React.FormEvent<HTMLDivElement>, name: string) => {\r\n            const value = e.currentTarget.textContent;\r\n            dispatch(change(\"editor\", name, value));\r\n        };\r\n\r\n        return (\r\n            <FormStyled key={index}>\r\n                {cardForEdit && cardForEdit._id &&\r\n                <InvisibleWrapper>\r\n                    <Field name={`editedCards[${index}].id`} component={Input} type=\"hidden\"/>\r\n                </InvisibleWrapper>}\r\n                <InvisibleWrapper>\r\n                    <Field name={questionFieldName} component={Input} type=\"hidden\"/>\r\n                </InvisibleWrapper>\r\n                <Card contentEditable={true} placeholder={cardForEdit && cardForEdit._id ? '' : 'QUESTION'}\r\n                      onInput={e => onChangeQuestion(e, questionFieldName)} ref={questionRef}/>\r\n                {error && <Span color={\"red\"}>{error}</Span>}\r\n                <InvisibleWrapper>\r\n                    <Field name={answerFieldName} component={Input} type=\"hidden\"/>\r\n                </InvisibleWrapper>\r\n                <Card contentEditable={true} placeholder={cardForEdit && cardForEdit._id ? '' : 'ANSWER'}\r\n                      onInput={e => onChangeAnswer(e, answerFieldName)} ref={answerRef}/>\r\n                {error && <Span color={\"red\"}>{error}</Span>}\r\n                {typeof index === 'number' &&\r\n                <DeleteCard type=\"button\" onClick={() => deleteCard!(index!,fullCardName)}>\r\n                    <FontAwesomeIcon icon=\"trash\"/>\r\n                </DeleteCard>}\r\n            </FormStyled>\r\n        );\r\n    };\r\n\r\nexport default SingleCardForm","import React, {useEffect, useState} from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {arrayRemove, WrappedFieldArrayProps} from \"redux-form\";\r\nimport {AddCardButton} from \"../02-tables/cards/CardsOfDeck\";\r\nimport SingleCardForm from \"./singleCardForm\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {CardType} from \"../02-tables/api/entities-cardsAPI\";\r\n\r\n\r\nconst AddCardButtonEditor = styled(AddCardButton)`\r\n  right: 20px;\r\n  left: auto;\r\n`;\r\n\r\ntype PropsType = {\r\n    error?: string,\r\n    cards: Array<CardType>,\r\n}\r\n\r\nconst CardsEditor: React.FC<PropsType & WrappedFieldArrayProps> = ({meta: {error}, cards}) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (cards.length === 0 || !cards) setNewCards([{} as CardType])\r\n    }, []);\r\n\r\n    const [cardsForEdit, setEditedCards] = useState<Array<CardType>>(cards);\r\n    const [newCards, setNewCards] = useState<Array<CardType>>([]);\r\n\r\n    const addCard = () => {\r\n        setNewCards([...newCards, {} as CardType])\r\n    };\r\n\r\n    const deleteEditedCard = (index: number,fullCardName: string) => {\r\n        const newCards = cardsForEdit.filter((_, id) => id !== index);\r\n        dispatch(arrayRemove('editor', fullCardName, index));\r\n        setEditedCards(newCards)\r\n    };\r\n    const deleteNewCard = (index: number,fullCardName: string) => {\r\n        const newCardsArr = newCards.filter((_, id) => id !== index);\r\n        dispatch(arrayRemove('editor', fullCardName, index));\r\n        setNewCards(newCardsArr)\r\n    };\r\n    console.log(cardsForEdit, newCards)\r\n\r\n    return (\r\n        <>\r\n            {cardsForEdit.map((card, index) =>\r\n                <SingleCardForm cardForEdit={card} index={index} error={error} key={index} deleteCard={deleteEditedCard}/>\r\n            )}\r\n            {newCards.map((card, index) =>\r\n                <SingleCardForm cardForEdit={card} index={index} error={error} key={index} deleteCard={deleteNewCard}/>\r\n            )}\r\n            <AddCardButtonEditor type=\"button\" onClick={addCard}>+</AddCardButtonEditor>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CardsEditor","import React, {useEffect} from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {change, Field, FieldArray, GenericFieldArray, InjectedFormProps, reduxForm, reset} from \"redux-form\";\r\nimport {Button, Span} from \"../main/ui/style/commonStyle\";\r\nimport {Input} from \"../main/ui/components/forForms/FormsControls\";\r\nimport CardsEditor from \"./cardsEditor\";\r\nimport {getCards} from \"../02-tables/bll/cardsReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../main/bll/store\";\r\nimport Preloader from \"../main/ui/components/preloader/Preloader\";\r\n\r\nconst EditorWrapper = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  position: relative;\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst HeaderWrapper = styled.div`\r\n  margin: 10px auto;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nconst DeckNameWrapper = styled.div`\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst StyledInput = styled(Input)`\r\n  height: 34px;\r\n  font-size: 22px;\r\n  font-weight: bold;\r\n  max-width: 372px;\r\n  min-width: 200px;\r\n`;\r\n\r\nconst SubmitButton = styled(Button)`\r\n  float: right;\r\n`;\r\n\r\ntype PropsType = {\r\n    deckId?: string,\r\n    name?: string,\r\n};\r\n\r\nconst FieldArrayCustom = FieldArray as new () => GenericFieldArray<Field, any>;\r\n\r\nconst Editor: React.FC<PropsType & InjectedFormProps<PropsType>> =\r\n    ({error, handleSubmit, deckId, name}) => {\r\n\r\n        const dispatch = useDispatch();\r\n        const {isLoading, cards} = useSelector((store: AppStateType) => store.cards);\r\n\r\n        useEffect(() => {\r\n            if (deckId) {\r\n                dispatch(getCards(deckId));\r\n                dispatch(change(\"editor\", \"name\", name));\r\n            }\r\n        }, [deckId]);\r\n\r\n        return (\r\n            <>\r\n                {isLoading ? <Preloader size={30} backColor=\"#fff\" frontColor=\"#32cdff\" isLoading={isLoading}/> :\r\n                    <EditorWrapper onSubmit={handleSubmit}>\r\n                        <HeaderWrapper>\r\n                            <DeckNameWrapper>\r\n                                <Field name=\"name\" component={StyledInput} type=\"text\"\r\n                                       placeholder={name? name : 'Enter title'}/>\r\n                                {error && <Span color={\"red\"}>{error}</Span>}\r\n                            </DeckNameWrapper>\r\n                            <SubmitButton type=\"submit\">\r\n                                {deckId? 'Submit changes' : 'Create'}\r\n                            </SubmitButton>\r\n                        </HeaderWrapper>\r\n                        <FieldArrayCustom component={CardsEditor} cards={deckId ? cards : []} name=\"cards\"/>\r\n                    </EditorWrapper>\r\n                }\r\n            </>\r\n        );\r\n    };\r\n\r\nexport const EditorReduxForm = reduxForm<{}, PropsType>({form: 'editor'})(Editor)","import React from \"react\";\r\nimport SingleCardForm from \"./singleCardForm\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Button} from \"../main/ui/style/commonStyle\";\r\nimport {CardType} from \"../02-tables/api/entities-cardsAPI\";\r\n\r\ntype PropsType = {\r\n    card?: CardType\r\n}\r\n\r\nconst CardEditor: React.FC<PropsType & InjectedFormProps<PropsType>> = ({handleSubmit, error, card}) => {\r\n    return(\r\n        <form onSubmit={handleSubmit}>\r\n            <SingleCardForm error={error}/>\r\n            <Button color={\"blue\"}>Log in</Button>\r\n        </form>\r\n    )\r\n};\r\n\r\nexport const SingleCardReduxForm = reduxForm<{}, PropsType>({form: 'card editor'})(CardEditor)","import React, {useEffect, useState} from \"react\";\r\nimport {EditorReduxForm} from \"./editor\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../main/bll/store\";\r\nimport {actions, createOrEditDeckWithCards} from \"../02-tables/bll/cardDecksReducer\";\r\nimport {postCard} from \"../02-tables/bll/cardsReducer\";\r\nimport Modal from \"../main/ui/components/modal-forms/modal\";\r\nimport {SingleCardReduxForm} from \"./singleCardEditor\";\r\nimport {useHistory, useLocation, useParams} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    editorType?: string\r\n}\r\n\r\nconst DecksEditorContainer: React.FC<PropsType> = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const userId = useSelector((store: AppStateType) => store.login.userId);\r\n    const {editedDeckId, redirectedId, cardPacks} = useSelector((store: AppStateType) => store.cardDecksReducer);\r\n    const {deckId} = useParams()\r\n\r\n    const [isCardEditorOpened, setCardEditor] = useState<boolean>(false);\r\n    const switchCardEditor = () => setCardEditor(!isCardEditorOpened);\r\n\r\n    useEffect(() => {\r\n        if (redirectedId) history.push(`/profile/cards/${redirectedId}`);\r\n        return () => {dispatch(actions.setRedirectedId(''))}\r\n    }, [redirectedId]);\r\n    useEffect(() => {\r\n        return () => {\r\n            if (deckId) dispatch(actions.setEditedDeckId(''))\r\n        }\r\n    }, [])\r\n\r\n    const addCard = async({question, answer}: any) => {\r\n        const card = {\r\n            cardsPack_id: editedDeckId,\r\n            question, answer\r\n        }\r\n        await (async () => {\r\n            dispatch(postCard(card));\r\n        })();\r\n        switchCardEditor()\r\n    };\r\n\r\n    const editDeck = async ({name, editedCards, newCards}: any) => {\r\n        const editedPack = cardPacks.find(deck => deck._id === deckId);\r\n        const newPackName = name !== editedPack!.name ? {_id: deckId, name} : undefined;\r\n        const correctedCards = editedCards ? editedCards.map((card: {id: string; }) => {\r\n            return {...card, _id: card.id}\r\n        }) : undefined;\r\n        const correctedNewCards = newCards ? newCards.map((card: any) => {\r\n            return {...card, cardsPack_id: editedDeckId}\r\n        }) : undefined;\r\n        dispatch(createOrEditDeckWithCards(newPackName, correctedCards, correctedNewCards));\r\n    };\r\n\r\n    const createNewDeck = async({name, newCards}: any) => {\r\n        const newPack = {user_id: userId!, name};\r\n        dispatch(createOrEditDeckWithCards(newPack, undefined, newCards));\r\n    };\r\n\r\n    if (location.pathname === `/edit/${deckId}`) return (\r\n            <EditorReduxForm onSubmit={editDeck} deckId={deckId}\r\n                             name={cardPacks.find(deck => deck._id === deckId)!.name}/>\r\n    );\r\n\r\n    if (location.pathname === '/create') return <EditorReduxForm onSubmit={createNewDeck}/>;\r\n\r\n    return (\r\n        <Modal closeModal={switchCardEditor}>\r\n            <SingleCardReduxForm onSubmit={addCard}/>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default DecksEditorContainer","import styled from 'styled-components/macro';\r\n\r\nexport const SignUpForm = styled.div`\r\n    // margin: 40px 40px;\r\n`;\r\nexport const LoginForm = styled.div`\r\n    // margin: 40px 40px;\r\n`;\r\nexport const RecoveryPasswordForm = styled.div`\r\n    // margin: 40px 40px;\r\n`;\r\nexport const NewPasswordForm = styled.div`\r\n    // margin: 40px 40px;\r\n`;","import {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport {Input} from \"../../../main/ui/components/forForms/FormsControls\";\r\nimport {Button, Span} from \"../../../main/ui/style/commonStyle\";\r\nimport {FormStyled} from \"../../../main/ui/style/forForms/formControlsStyle\";\r\nimport {maxLength8, requiredField} from \"../../../main/ui/components/forForms/validators\";\r\nimport Preloader from \"../../../main/ui/components/preloader/Preloader\";\r\n\r\ntype PropsType = {\r\n    isLoading: boolean\r\n}\r\nexport type NewPasswordFormDataType = {\r\n    password: string\r\n    repeatPassword: string\r\n}\r\n\r\nconst NewPasswordForm: React.FC<PropsType & InjectedFormProps<NewPasswordFormDataType, PropsType>> =\r\n    ({error, handleSubmit, invalid, isLoading, ...props}) => {\r\n        return (\r\n            <FormStyled onSubmit={handleSubmit}>\r\n                <Field name=\"password\" component={Input} type=\"password\" placeholder=\"Password\"\r\n                       validate={[requiredField, maxLength8]}\r\n                />\r\n                <Field name=\"repeatPassword\" component={Input} type=\"password\" placeholder=\"Repeat password\"\r\n                       validate={[requiredField, maxLength8]}\r\n                />\r\n\r\n                {error && <Span color={\"red\"}>{error}</Span>}\r\n                {isLoading && <Preloader isLoading={isLoading}/>}\r\n\r\n                <Button color={\"blue\"} disabled={invalid || isLoading}>Change password</Button>\r\n            </FormStyled>\r\n        );\r\n    };\r\n\r\nexport const NewPasswordReduxForm = reduxForm<NewPasswordFormDataType, PropsType>({form: 'newPassword'})(NewPasswordForm)","import React from 'react';\r\nimport {H3} from \"../../main/ui/style/commonStyle\";\r\nimport {NewPasswordForm} from \"../../main/ui/style/forForms/formsStyle\";\r\nimport {NewPasswordFormDataType, NewPasswordReduxForm} from \"./ReduxForm/NewPasswordForm\";\r\n\r\ntype NewPasswordType = {\r\n    isLoading: boolean\r\n    submitFnc: ({password, repeatPassword}: NewPasswordFormDataType) => void\r\n}\r\n\r\nconst NewPassword: React.FC<NewPasswordType> = ({isLoading, submitFnc}) => {\r\n    return (\r\n        <NewPasswordForm>\r\n            <H3>Enter new password</H3>\r\n            <NewPasswordReduxForm onSubmit={submitFnc} isLoading={isLoading}/>\r\n        </NewPasswordForm>\r\n    )\r\n}\r\n\r\nexport default NewPassword;\r\n","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../main/bll/store\";\r\nimport {setNewPassword} from \"../bll/recoveryPassword-reducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport NewPassword from \"./NewPassword\";\r\n\r\nconst NewPasswordContainer: React.FC = (props: any) => {\r\n\r\n    const dispatch = useDispatch();\r\n    // const {isSaveNewPassword} = useSelector((store: AppStateType) => store.recoveryPassword);\r\n    const {isLoading} = useSelector((store: AppStateType) => store.requestStatus);\r\n\r\n    const setPassword = ({password, repeatPassword}: any) => {\r\n        if (password === repeatPassword) {\r\n            dispatch(setNewPassword(props.match.params.token, password));\r\n        } else dispatch(stopSubmit(\"newPassword\", {_error: 'Password mismatch'}));\r\n    }\r\n\r\n    // if (isSaveNewPassword)\r\n    //     return <Redirect to={LOGIN_PATH}/>\r\n\r\n    return <NewPassword isLoading={isLoading} submitFnc={setPassword} />\r\n}\r\n\r\nexport default NewPasswordContainer;\r\n","import React from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport {FlexRowCenter, H3} from \"../style/commonStyle\";\r\nimport banner from '../images/main.png'\r\nimport { MainContainer } from '../style/bodyStyle';\r\n\r\nconst Home: React.FC = () => {\r\n\r\n    return (\r\n        <HomeWrapper>\r\n            <HomeContainer>\r\n                <HomeTextBlock>\r\n                    <HomeH3 color={'#fff'} fontSize={'33px'}>Learn anything with fun flashcards by DreamTeam from\r\n                        IT-Incubator</HomeH3>\r\n                </HomeTextBlock>\r\n                <HomeBannerBlock>\r\n                    <Banner alt=\"main banner\" src={banner}/>\r\n                </HomeBannerBlock>\r\n            </HomeContainer>\r\n\r\n        </HomeWrapper>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n\r\nconst HomeWrapper = styled(FlexRowCenter)`\r\n    background: #32cdff;\r\n    //display: none;\r\n    //overflow: hidden;\r\n    padding-bottom: 150px;\r\n    width: 100%;\r\n    margin-top: -31px;\r\n    //height: ;\r\n`;\r\nconst HomeContainer = styled(MainContainer)`\r\n    background-color: #32cdff;\r\n    padding-top: 50px;\r\n`;\r\nconst HomeTextBlock = styled(FlexRowCenter)`\r\n    width: 60%;\r\n`;\r\nconst HomeH3 = styled(H3)`\r\n    font-family: DINNextLTPro-Regular;\r\n`;\r\nconst HomeBannerBlock = styled(FlexRowCenter)`\r\n    width: 40%;\r\n`;\r\nconst Banner = styled.img`\r\n  height: 80%;\r\n  width: 80%;\r\n`\r\n\r\n","import {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport {Input} from \"../main/ui/components/forForms/FormsControls\";\r\nimport {Button, Span} from \"../main/ui/style/commonStyle\";\r\nimport {FormStyled, InputDiv} from \"../main/ui/style/forForms/formControlsStyle\";\r\nimport {requiredField} from \"../main/ui/components/forForms/validators\";\r\nimport Preloader from \"../main/ui/components/preloader/Preloader\";\r\nimport styled from \"styled-components/macro\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../main/bll/store\";\r\n\r\ntype PropsType = {\r\n    isLoading: boolean\r\n    hasDataToSend: boolean\r\n}\r\nexport type EditProfileFormDataType = {\r\n    userName: string\r\n}\r\n\r\nconst EditProfileForm: React.FC<PropsType & InjectedFormProps<EditProfileFormDataType, PropsType>> =\r\n    ({error, handleSubmit, invalid, isLoading, hasDataToSend, ...props}) => {\r\n        const disabled = hasDataToSend ? false : invalid || isLoading\r\n        return (\r\n            <EditProfileFormStyled onSubmit={handleSubmit}>\r\n                <FieldName>Name</FieldName>\r\n                <InputDiv>\r\n                    <Field name=\"userName\" component={Input} type=\"text\" validate={[requiredField]}/>\r\n                </InputDiv>\r\n\r\n                {error && <Span color={\"red\"}>{error}</Span>}\r\n                {isLoading && <Preloader isLoading={isLoading}/>}\r\n\r\n                <Button color={\"blue\"} disabled={disabled}>Save changes</Button>\r\n            </EditProfileFormStyled>\r\n        );\r\n    };\r\n\r\n// const EditProfileReduxForm = reduxForm<EditProfileFormDataType, PropsType>({form: 'editProfile', enableReinitialize: true})(EditProfileForm)\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        initialValues: {\r\n            userName: state.login.name /* 'userName'*/\r\n        }\r\n    }\r\n}\r\n// export default connect<any>(mapStateToProps)(EditProfileReduxForm)\r\nexport const EditProfileReduxForm = connect<{}, {}, PropsType, AppStateType>(mapStateToProps)\r\n(reduxForm<EditProfileFormDataType, PropsType>({form: 'editProfile', enableReinitialize: true})(EditProfileForm))\r\n\r\n\r\nconst EditProfileFormStyled = styled(FormStyled)`\r\nwidth: 80%;\r\nalign-items: flex-start;\r\n`;\r\nconst FieldName = styled.div`\r\n    //margin: 10px auto;\r\n    font-family: 'DINNextLTPro-Bold';\r\n    color: #c4c4c4;\r\n    text-transform: uppercase;\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n    text-align: left;\r\n`;","import React, {ChangeEvent, useState} from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\r\nimport {fas} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../main/bll/store\";\r\nimport {MainContainer} from \"../main/ui/style/bodyStyle\";\r\nimport {EditProfileFormDataType, EditProfileReduxForm} from \"./EditProfileForm\";\r\nimport {changeProfile} from '../01-auth/bll/login-reducer';\r\nimport noUserPhoto from '../main/ui/images/no-user-photo.jpg'\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {IconDiv} from \"../main/ui/style/headerStyle\";\r\nimport {DEV_VERSION} from \"../config\";\r\n\r\nlibrary.add(fas);\r\n\r\nconst Settings: React.FC = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {avatar} = useSelector((store: AppStateType) => store.login)\r\n    const {isLoading} = useSelector((store: AppStateType) => store.requestStatus);\r\n\r\n    const [newAvatar, setNewAvatar] = useState<string | null>(null)\r\n    const [hasDataToSend, sethasDataToSend] = useState<boolean>(false)\r\n\r\n    // ase64String: string | ArrayBuffer | null\r\n    const updateProfile = ({userName}: EditProfileFormDataType) => {\r\n        sethasDataToSend(false)\r\n        dispatch(changeProfile(userName, newAvatar));\r\n    }\r\n\r\n    const onChangeFile = (e: ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files && e.target.files[0];\r\n        if (file !== null) {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n\r\n            reader.onload = function () {\r\n                setNewAvatar(typeof (reader.result) === \"string\" ? reader.result : null)\r\n                sethasDataToSend(true)\r\n                DEV_VERSION && console.log('LOADING file success')\r\n            };\r\n            reader.onerror = function (error) {\r\n                DEV_VERSION && console.log(`LOADING file with error: ${error}`)\r\n            };\r\n        }\r\n    }\r\n\r\n    return (\r\n        <SettingsContainer>\r\n            <SettingsMenu>\r\n                <MenuItemActive>Edit profile</MenuItemActive>\r\n                <MenuItem>Account settings</MenuItem>\r\n            </SettingsMenu>\r\n            <SettingsBody>\r\n                <EditProfileReduxForm onSubmit={updateProfile} isLoading={isLoading} hasDataToSend={hasDataToSend}/>\r\n                <PhotoInfo>\r\n                    <UserPhoto src={newAvatar || avatar || noUserPhoto} alt=\"user photo\"/>\r\n                    <FileInputLabel htmlFor=\"upload\">\r\n                        <IconFileDiv><FontAwesomeIcon icon={['fas', 'pencil-alt']}/></IconFileDiv>\r\n                    </FileInputLabel>\r\n                    <FileInput id=\"upload\" type=\"file\" onChange={onChangeFile}></FileInput>\r\n                </PhotoInfo>\r\n            </SettingsBody>\r\n        </SettingsContainer>\r\n    )\r\n}\r\n\r\nexport default Settings;\r\n\r\nconst SettingsContainer = styled(MainContainer)`\r\nalign-items: flex-start;\r\njustify-content: left;\r\n`;\r\nconst SettingsMenu = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\nalign-items: flex-start;\r\n//width: 30%;\r\nfont-family: 'DINNextLTPro-Bold';\r\nfont-size: 18px;\r\n//text-align: left;\r\n`;\r\nconst MenuItem = styled.div`\r\nborder-left: 4px solid transparent;\r\ncolor: #c4c4c4;\r\ncursor: pointer;\r\ndisplay: block;\r\nmargin: 5px 0;\r\npadding: 10px 64px 10px 32px;\r\ntext-decoration: none;\r\ntext-transform: uppercase;\r\n`;\r\nconst MenuItemActive = styled(MenuItem)`\r\nborder-color: #32cdff;\r\ncolor: #32cdff;\r\ncursor: default;\r\n`;\r\nconst SettingsBody = styled(MainContainer)`\r\nbackground-color: #fff;\r\n//border-radius: 15px;\r\n//margin-left: 54px;\r\nmax-width: 776px;\r\n//vertical-align: top;\r\n//width: 776px;\r\n//padding: 20px 30px;\r\npadding: 48px;\r\nalign-items: flex-start;\r\njustify-content: flex-start;\r\nwidth: 67%;\r\n`;\r\nconst UserPhoto = styled.img`\r\n  border-radius: 100%;\r\n  height: 100px;\r\n  margin: auto;\r\n  width: 100px;\r\n`;\r\nconst PhotoInfo = styled.div`\r\nposition: relative;\r\nwidth: 20%;\r\nmargin-left: 50px;\r\n`;\r\nconst FileInput = styled.input`\r\n  height: .1px;\r\n  opacity: 0;\r\n  overflow: hidden; \r\n  position: absolute; \r\n  width: .1px; \r\n  z-index: -1;\r\n`\r\nconst FileInputLabel = styled.label`\r\n  background-color: #fff;\r\n  color: #32cdff;\r\n  font-size: 20px;\r\n  border-radius: 100%;\r\n  box-shadow: 0 2px 20px 0 rgba(0,0,0,.2);\r\n  cursor: pointer;\r\n  height: 42px;\r\n  position: absolute;\r\n  right: 28px;\r\n  top: 65px;\r\n  width: 42px;\r\n  z-index: 5;\r\n  padding: 5px 5px;\r\n`\r\nconst IconFileDiv = styled(IconDiv)`\r\n  position: absolute;\r\n  right: 5px;\r\n  top: 15px;\r\n`;","import React from 'react';\r\nimport {MainContainer, MainWrapper} from '../style/bodyStyle';\r\nimport {Route} from \"react-router-dom\";\r\nimport Profile from \"./Profile\";\r\nimport DeckInfo from \"../../../02-tables/cards/DeckInfo\";\r\nimport DecksAllContainer from \"../../../03-decksAll-decksMe/DecksAllContainer\";\r\nimport DecksEditorContainer from \"../../../05-decksEditor/decksEditorContainer\";\r\nimport RecoveryPasswordContainer from \"../../../01-auth/ui/RecoveryPasswordContainer\";\r\nimport NewPasswordContainer from \"../../../01-auth/ui/NewPasswordContainer\";\r\nimport {DEV_VERSION} from \"../../../config\";\r\nimport Home from \"./Home\";\r\nimport Settings from \"../../../06-change profile/Settings\";\r\n\r\nexport const MAIN_PATH = '/'\r\n// export const LOGIN_PATH = '/login';\r\n// export const SIGN_IN_PATH = '/signIn';\r\nexport const PROFILE_PATH = '/profile';\r\nexport const SETTINGS_PATH = '/settings';\r\n// export const RECOVERY_PASSWORD_PATH = '/recoveryPassword';\r\nexport const NEW_PASSWORD_PATH = '/newPassword/:token?'\r\nexport const DECKS_PATH = '/decks';\r\nexport const DECK_CARDS_PATH_ME = '/profile/cards/:deckId?';\r\n//export const DECK_CARDS_PATH_ME = '/cards/:deckId?';\r\nexport const DECK_CARDS_PATH_USER = '/deck/:deckName?/cards/:deckId?';\r\nexport const DECKS_CREATE = '/create';\r\nexport const DECKS_EDIT = '/edit/:deckId?'\r\n// export const CARDS_PATH = '/cards';\r\n\r\nconst Body: React.FC = () => {\r\n\r\n    DEV_VERSION && console.log(`RENDER Body`);\r\n    return (\r\n        <MainWrapper>\r\n            {/*?????????*/}\r\n            <Route exact path={'/cards'} component={Home} />\r\n            <Route exact path={MAIN_PATH} component={Home}/>\r\n\r\n            <Route path={NEW_PASSWORD_PATH}>\r\n                <MainContainer whiteBox>\r\n                    <NewPasswordContainer/>\r\n                </MainContainer>\r\n            </Route>\r\n            <Route path={DECKS_CREATE}>\r\n                <MainContainer whiteBox>\r\n                    <DecksEditorContainer/>\r\n                </MainContainer>\r\n            </Route>\r\n            <Route path={DECKS_EDIT}>\r\n                <MainContainer whiteBox>\r\n                    <DecksEditorContainer/>\r\n                </MainContainer>\r\n            </Route>\r\n            {/*<Route path={CARD_DECKS_PATH}>*/}\r\n            {/*    <MainContainer>*/}\r\n            {/*        <CardDecksContainer/>*/}\r\n            {/*    </MainContainer>*/}\r\n            {/*</Route>*/}\r\n            {/*<Route path={CARDS_PATH_WITH_USER}>*/}\r\n            {/*    <MainContainer>*/}\r\n            {/*        <CardsContainer/>*/}\r\n            {/*    </MainContainer>*/}\r\n            {/*</Route>*/}\r\n\r\n            <Route path={PROFILE_PATH} component={Profile}/>\r\n            <Route path={SETTINGS_PATH} component={Settings}/>\r\n            <Route exact path={DECKS_PATH} component={DecksAllContainer}/>\r\n            <Route path={DECK_CARDS_PATH_USER} component={DeckInfo}/>\r\n        </MainWrapper>\r\n    )\r\n}\r\n\r\nexport default Body;\r\n","import React, {useState} from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {searchDeck} from \"../bll/cardDecksReducer\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst SearchWrapper = styled.div`\r\n  width: 320px;\r\n  height: 42px;\r\n  margin-left: 55px;\r\n  position: relative;\r\n  cursor: default;\r\n  margin-right: auto;\r\n`;\r\n\r\nconst SearchingInput = styled.input`\r\n  font-family: 'DINNextLTPro-Medium';\r\n  font-size: 15px;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding-left: 50px;\r\n  background-color: #6fdcff;\r\n  color: black;\r\n  border: none;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  &:focus {\r\n    border: none;\r\n    background-color: white;\r\n    color: black;\r\n  };\r\n  &::placeholder {\r\n    color: white;\r\n    opacity: .8;\r\n  }\r\n`;\r\n\r\nconst SearchIcon = styled.div<{isFocused: boolean}>`\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  left: 0;\r\n  font-size: 20px;\r\n  padding-left: 10px;\r\n  color: ${props => props.isFocused ? '#32cdff' : 'white'};\r\n  margin-top: 3px;\r\n`;\r\n\r\nconst SearchDeck = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const switchEditMode = () => {\r\n        setEditMode(!editMode)\r\n    }\r\n\r\n    const [searching, setSearching] = useState('');\r\n    const submitSearching = (e: React.KeyboardEvent) => {\r\n        if (e.key === \"Enter\" && /^\\S+$/.test(searching)) dispatch(searchDeck(searching));\r\n        history.push('/decks')\r\n    }\r\n\r\n    return(\r\n        <SearchWrapper>\r\n            <SearchingInput placeholder={'SEARCH DECK'} value={searching} onBlur={switchEditMode} onFocus={switchEditMode}\r\n                            onChange={e => setSearching(e.currentTarget.value)} onKeyPress={e => submitSearching(e)}/>\r\n            <SearchIcon isFocused={editMode}>\r\n                <FontAwesomeIcon icon='search'/>\r\n            </SearchIcon>\r\n        </SearchWrapper>\r\n    )\r\n}\r\n\r\nexport default SearchDeck","import {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport {Input} from \"../../../main/ui/components/forForms/FormsControls\";\r\nimport {Button, Span, TextLink} from \"../../../main/ui/style/commonStyle\";\r\nimport {FormStyled, InputCheckBoxDiv} from \"../../../main/ui/style/forForms/formControlsStyle\";\r\nimport {emailValidation, maxLength8, requiredField} from \"../../../main/ui/components/forForms/validators\";\r\nimport Preloader from \"../../../main/ui/components/preloader/Preloader\";\r\nimport {MAIN_PATH} from \"../../../main/ui/components/Body\";\r\n\r\ntype PropsType = {\r\n    isLoading: boolean\r\n    openRecoveryModal: () => void\r\n}\r\nexport type LoginFormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst LoginForm: React.FC<PropsType & InjectedFormProps<LoginFormDataType, PropsType>> =\r\n    ({error, handleSubmit, invalid, isLoading, openRecoveryModal, ...props}) => {\r\n        return (\r\n            <FormStyled onSubmit={handleSubmit}>\r\n                <Field name=\"email\" component={Input} type=\"email\" placeholder=\"Email\"\r\n                       validate={[emailValidation, requiredField]}/>\r\n                <Field name=\"password\" component={Input} type=\"password\" placeholder=\"Password\"\r\n                       validate={[requiredField, maxLength8]}/>\r\n                <InputCheckBoxDiv>\r\n                    <Field name=\"rememberMe\" component={Input} type=\"checkbox\"/>remember me\r\n                </InputCheckBoxDiv>\r\n\r\n                {error && <Span color={\"red\"}>{error}</Span>}\r\n                {isLoading && <Preloader isLoading={isLoading}/>}\r\n\r\n                <TextLink to={MAIN_PATH} onClick={openRecoveryModal}>Forgot password?</TextLink>\r\n                <Button color={\"blue\"} disabled={invalid || isLoading}>Log in</Button>\r\n            </FormStyled>\r\n        );\r\n    };\r\n\r\nexport const LoginReduxForm = reduxForm<LoginFormDataType, PropsType>({form: 'login'})(LoginForm)","import React from 'react';\r\nimport {H3, Span, TextLink} from \"../../main/ui/style/commonStyle\";\r\nimport {LoginForm} from \"../../main/ui/style/forForms/formsStyle\";\r\nimport {LoginFormDataType, LoginReduxForm} from \"./ReduxForm/LoginForm\";\r\nimport {DEV_VERSION} from \"../../config\";\r\n\r\ntype PropsType = {\r\n    isLoading: boolean\r\n    openSignInModal: () => void\r\n    openRecoveryModal: () => void\r\n    submitFnc: ({email, password, rememberMe}: LoginFormDataType) => void\r\n}\r\n\r\nconst Login: React.FC<PropsType> = ({isLoading, submitFnc, openSignInModal, openRecoveryModal}) => {\r\n\r\n    DEV_VERSION && console.log(`RENDER Login`);\r\n    return (\r\n        <>\r\n            <LoginForm>\r\n                <H3>Log in with your account</H3>\r\n                <Span>Don't have an account?\r\n                    <TextLink to={'/'/*SIGN_IN_PATH*/} onClick={openSignInModal}>Sign in</TextLink>\r\n                </Span>\r\n                <LoginReduxForm onSubmit={submitFnc} isLoading={isLoading} openRecoveryModal={openRecoveryModal}/>\r\n            </LoginForm>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {logIn} from \"../bll/login-reducer\";\r\nimport {AppStateType} from \"../../main/bll/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {PROFILE_PATH} from \"../../main/ui/components/Body\";\r\nimport Login from \"./Login\";\r\nimport {DEV_VERSION} from \"../../config\";\r\nimport {LoginFormDataType} from \"./ReduxForm/LoginForm\";\r\n\r\ntype PropsType = {\r\n    openSignInModal: () => void\r\n    closeLogInModal: () => void\r\n    openRecoveryModal: () => void\r\n}\r\n\r\nconst LoginContainer: React.FC<PropsType> =\r\n    React.memo(({openSignInModal, closeLogInModal, openRecoveryModal}) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {isAuthorized} = useSelector((store: AppStateType) => store.login);\r\n    const {isLoading} = useSelector((store: AppStateType) => store.requestStatus);\r\n\r\n    const login = ({email, password, rememberMe}: LoginFormDataType) => {\r\n        dispatch(logIn(email, password, rememberMe));\r\n    }\r\n    if (isAuthorized) {\r\n        closeLogInModal();\r\n        return <Redirect to={PROFILE_PATH}/>\r\n    }\r\n\r\n    DEV_VERSION && console.log(`RENDER LoginContainer`);\r\n    return <Login submitFnc={login} isLoading={isLoading}\r\n                  openSignInModal={openSignInModal}\r\n                  openRecoveryModal={openRecoveryModal}\r\n    />\r\n})\r\n\r\nexport default LoginContainer;\r\n","import {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport {Input} from \"../../../main/ui/components/forForms/FormsControls\";\r\nimport {Button, Span} from \"../../../main/ui/style/commonStyle\";\r\nimport {FormStyled} from \"../../../main/ui/style/forForms/formControlsStyle\";\r\nimport {emailValidation, maxLength8, requiredField} from \"../../../main/ui/components/forForms/validators\";\r\nimport Preloader from \"../../../main/ui/components/preloader/Preloader\";\r\n\r\ntype PropsType = {\r\n    isLoading: boolean\r\n}\r\nexport type SignInFormDataType = {\r\n    email: string\r\n    password: string\r\n}\r\n\r\nconst SignInForm: React.FC<PropsType & InjectedFormProps<SignInFormDataType, PropsType>> =\r\n    ({error, handleSubmit, isLoading, invalid, ...props}) => {\r\n        return (\r\n            <FormStyled onSubmit={handleSubmit}>\r\n                <Field name=\"email\" component={Input} type=\"email\" placeholder=\"Email\"\r\n                       validate={[emailValidation, requiredField]}\r\n                />\r\n                <Field name=\"password\" component={Input} type=\"password\" placeholder=\"Password\"\r\n                       validate={[requiredField, maxLength8]}\r\n                />\r\n                {error && <Span color={\"red\"}>{error}</Span>}\r\n                {isLoading ?\r\n                    <Preloader isLoading={isLoading}/>\r\n                    : <Button color={\"blue\"} disabled={invalid || isLoading}>Sign Up</Button>}\r\n            </FormStyled>\r\n        );\r\n    };\r\n\r\nexport const SignInReduxForm = reduxForm<SignInFormDataType, PropsType>({form: 'signIn'})(SignInForm)","import React from 'react';\r\nimport {H3, Span, TextLink} from \"../../main/ui/style/commonStyle\";\r\nimport {SignUpForm} from \"../../main/ui/style/forForms/formsStyle\";\r\nimport {SignInFormDataType, SignInReduxForm} from \"./ReduxForm/SignInForm\";\r\nimport {MAIN_PATH} from \"../../main/ui/components/Body\";\r\n\r\ntype PropsType = {\r\n    isLoading: boolean\r\n    submitFnc: ({email, password}: SignInFormDataType) => void\r\n    openLogInModal: () => void\r\n}\r\n\r\nconst SignIn: React.FC<PropsType> = ({submitFnc, isLoading, openLogInModal}) => {\r\n    return (\r\n        <SignUpForm>\r\n            <H3>Create a account</H3>\r\n            <Span>Already have an account?\r\n                <TextLink to={MAIN_PATH} onClick={openLogInModal}>Log in</TextLink>\r\n            </Span>\r\n            <SignInReduxForm onSubmit={submitFnc} isLoading={isLoading}/>\r\n        </SignUpForm>\r\n    )\r\n}\r\n\r\nexport default SignIn\r\n","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../main/bll/store\";\r\nimport {registration} from \"../bll/registration-reducer\";\r\nimport SignIn from \"./SignIn\";\r\n\r\ntype PropsType = {\r\n    closeSignInModal: () => void\r\n    openLogInModal: () => void\r\n}\r\n\r\nconst SignInContainer: React.FC<PropsType> = ({closeSignInModal, openLogInModal}) => {\r\n    const dispatch = useDispatch();\r\n    const {isRegistratedUser} = useSelector((store: AppStateType) => store.registration);\r\n    const {isLoading} = useSelector((store: AppStateType) => store.requestStatus);\r\n\r\n    const register = ({email, password}: any) => {\r\n        dispatch(registration(email, password))\r\n    }\r\n\r\n    if (isRegistratedUser) {\r\n        closeSignInModal();\r\n        // return <Redirect to={LOGIN_PATH}/>\r\n    }\r\n\r\n    return <SignIn submitFnc={register} isLoading={isLoading} openLogInModal={openLogInModal}/>\r\n}\r\n\r\nexport default SignInContainer\r\n","import {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport {Input} from \"../../../main/ui/components/forForms/FormsControls\";\r\nimport {Button, Span} from \"../../../main/ui/style/commonStyle\";\r\nimport {FormStyled} from \"../../../main/ui/style/forForms/formControlsStyle\";\r\nimport {emailValidation, requiredField} from \"../../../main/ui/components/forForms/validators\";\r\nimport Preloader from \"../../../main/ui/components/preloader/Preloader\";\r\n\r\ntype PropsType = {\r\n    isLoading: boolean\r\n}\r\nexport type RecoveryPasswordFormDataType = {\r\n    email: string\r\n}\r\n\r\nconst RecoveryPasswordForm: React.FC<PropsType & InjectedFormProps<RecoveryPasswordFormDataType, PropsType>> =\r\n    ({error, handleSubmit, invalid, isLoading, ...props}) => {\r\n        return (\r\n            <FormStyled onSubmit={handleSubmit}>\r\n                <Field name=\"email\" component={Input} type=\"email\" placeholder=\"Email\"\r\n                       validate={[emailValidation, requiredField]}\r\n                />\r\n\r\n                {error && <Span color={\"red\"}>{error}</Span>}\r\n                {isLoading && <Preloader isLoading={isLoading}/>}\r\n\r\n                <Button color={\"blue\"} disabled={invalid || isLoading}>Reset Password</Button>\r\n            </FormStyled>\r\n        );\r\n    };\r\n\r\nexport const RecoveryPasswordReduxForm = reduxForm<RecoveryPasswordFormDataType, PropsType>({form: 'recoveryPassword'})(RecoveryPasswordForm)","import React from 'react';\r\nimport {H3} from \"../../main/ui/style/commonStyle\";\r\nimport {RecoveryPasswordFormDataType, RecoveryPasswordReduxForm} from './ReduxForm/RecoveryPasswordForm';\r\nimport {RecoveryPasswordForm} from \"../../main/ui/style/forForms/formsStyle\";\r\n\r\ntype PropsType = {\r\n    isSendEmail: boolean | null\r\n    isLoading: boolean\r\n    submitFnc: ({email}: RecoveryPasswordFormDataType) => void\r\n}\r\n\r\nconst RecoveryPassword: React.FC<PropsType> = ({isLoading, isSendEmail, submitFnc}) => {\r\n\r\n    return (\r\n        <RecoveryPasswordForm>\r\n            {!isSendEmail?\r\n            <>\r\n                <H3>What's your email?</H3>\r\n                <RecoveryPasswordReduxForm onSubmit={submitFnc} isLoading={isLoading}/>\r\n            </>\r\n                :\r\n                <H3>Thanks! Check your email for instructions to reset your password.</H3>\r\n            }\r\n        </RecoveryPasswordForm>\r\n    )\r\n}\r\n\r\nexport default RecoveryPassword\r\n","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../main/bll/store\";\r\nimport RecoveryPassword from \"./RecoveryPassword\";\r\n\r\ntype PropsType = {\r\n    closeRecoveryModal: () => void\r\n}\r\n\r\nconst RecoveryPasswordContainer: React.FC<PropsType> = ({closeRecoveryModal}) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {isSendEmail} = useSelector((store: AppStateType) => store.recoveryPassword);\r\n    const {isLoading} = useSelector((store: AppStateType) => store.requestStatus);\r\n\r\n    const recoveryPassword = ({email}: any) => {\r\n        closeRecoveryModal();\r\n        dispatch(recoveryPassword(email));\r\n    }\r\n\r\n    return <RecoveryPassword isSendEmail={isSendEmail} isLoading={isLoading} submitFnc={recoveryPassword}/>\r\n}\r\n\r\nexport default RecoveryPasswordContainer;\r\n","import React, {useCallback, useState} from 'react';\r\nimport {\r\n    HeaderContainer,\r\n    HeaderWrapper,\r\n    IconDiv,\r\n    LogoImg,\r\n    LogoLinkBlock,\r\n    LogoText,\r\n    MenuNavLink\r\n} from \"../style/headerStyle\";\r\nimport logo from '../images/logo.png'\r\nimport {Button, FlexRowCenter} from '../style/commonStyle';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {DECKS_CREATE, DECKS_PATH, PROFILE_PATH} from './Body';\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../bll/store\";\r\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\r\nimport {far} from \"@fortawesome/free-regular-svg-icons\";\r\nimport {fas} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport SearchDeck from \"../../../02-tables/cardDecks/searchDeck\";\r\nimport Modal from \"./modal-forms/modal\";\r\n// import {AddDeckReduxForm} from \"../../../02-tables/cardDecks/addDeckForm\";\r\n// import {addDeck} from \"../../../02-tables/cardDecks/cardDecksReducer\";\r\nimport {DEV_VERSION} from \"../../../config\";\r\nimport LoginContainer from \"../../../01-auth/ui/LoginContainer\";\r\nimport SignInContainer from \"../../../01-auth/ui/SignInContainer\";\r\nimport RecoveryPasswordContainer from \"../../../01-auth/ui/RecoveryPasswordContainer\";\r\n\r\nlibrary.add(far, fas);\r\n\r\nconst Header: React.FC = () => {\r\n\r\n    // const dispatch = useDispatch();\r\n    const {isAuthorized, name} = useSelector((store: AppStateType) => store.login);\r\n    // const {isLoading} = useSelector((store: AppStateType) => store.cardDecksReducer);\r\n    // const userId = useSelector((store: AppStateType) => store.login.userId);\r\n\r\n    // const [isAddModalOpened, switchAddModal] = useState(false);\r\n    // const openAddModal = () => switchAddModal(true);\r\n    // const closeAddModal = () => switchAddModal(false);\r\n    // const addPack = ({name}: any) => {\r\n    //     let newPack = {\r\n    //         user_id: userId,\r\n    //         name,\r\n    //     }\r\n    //     dispatch(addDeck(newPack))\r\n    //     switchAddModal(false)\r\n    // };\r\n\r\n    const [isLogInModalOpened, switchLogInModal] = useState(false);\r\n    const [isSignInModalOpened, switchSignInModal] = useState(false);\r\n    const [isRecoveryModalOpened, switchRecoveryModal] = useState(false);\r\n\r\n    const openLogInModal = () => {\r\n        closeSignInModal();\r\n        switchLogInModal(true);\r\n    }\r\n    const closeLogInModal = useCallback(\r\n        () => switchLogInModal(false),\r\n        []\r\n    )\r\n\r\n    const openSignInModal = useCallback(\r\n        () => {\r\n            closeLogInModal();\r\n            switchSignInModal(true);\r\n        },\r\n        []\r\n    );\r\n    const closeSignInModal = () => switchSignInModal(false)\r\n\r\n    const openRecoveryModal = useCallback(\r\n        () => {\r\n            closeLogInModal();\r\n            switchRecoveryModal(true);\r\n        },\r\n        []\r\n    )\r\n    const closeRecoveryModal = () => switchRecoveryModal(false)\r\n\r\n    DEV_VERSION && console.log(`RENDER Header`);\r\n    // console.log('isLogInModalOpened: ' + isLogInModalOpened)\r\n    // console.log('isSignInModalOpened: ' + isSignInModalOpened)\r\n    // console.log('isRecoveryModalOpened: ' + isSignInModalOpened)\r\n    return (\r\n        <>\r\n            <HeaderWrapper>\r\n                <HeaderContainer>\r\n                    <LogoLinkBlock as={NavLink} to='/'>\r\n                        <LogoImg src={logo} alt=\"logo\"/>\r\n                        <LogoText>cards</LogoText>\r\n                    </LogoLinkBlock>\r\n                    {isAuthorized ? <SearchDeck/> : <></>}\r\n                    <FlexRowCenter>\r\n                        {isAuthorized ?\r\n                            <>\r\n                                <MenuNavLink to={DECKS_PATH}>All decks</MenuNavLink>\r\n                                <MenuNavLink to={DECKS_CREATE}>\r\n                                    <IconDiv><FontAwesomeIcon icon={['fas', 'plus']}/></IconDiv>\r\n                                    Create deck\r\n                                </MenuNavLink>\r\n                                <MenuNavLink to={PROFILE_PATH}>\r\n                                    <IconDiv><FontAwesomeIcon icon={['far', 'user']}/></IconDiv>\r\n                                    {name}\r\n                                </MenuNavLink>\r\n                            </>\r\n                            :\r\n                            <Button color={\"white\"} onClick={openLogInModal}>Log in</Button>\r\n                        }\r\n                    </FlexRowCenter>\r\n                </HeaderContainer>\r\n            </HeaderWrapper>\r\n\r\n            {/*{isAddModalOpened &&*/}\r\n            {/*<Modal closeModal={closeAddModal}>*/}\r\n            {/*    <AddDeckReduxForm isLoading={isLoading} onSubmit={addPack}/>*/}\r\n            {/*</Modal>*/}\r\n            {/*}*/}\r\n\r\n            {isLogInModalOpened &&\r\n            <Modal closeModal={closeLogInModal}>\r\n                <LoginContainer closeLogInModal={closeLogInModal}\r\n                                openSignInModal={openSignInModal}\r\n                                openRecoveryModal={openRecoveryModal}\r\n                />\r\n            </Modal>\r\n            }\r\n\r\n            {isSignInModalOpened &&\r\n            <Modal closeModal={closeSignInModal}>\r\n                <SignInContainer closeSignInModal={closeSignInModal}\r\n                                 openLogInModal={openLogInModal}/>\r\n            </Modal>\r\n            }\r\n\r\n            {isRecoveryModalOpened &&\r\n            <Modal closeModal={closeRecoveryModal}>\r\n                <RecoveryPasswordContainer closeRecoveryModal={closeRecoveryModal}/>\r\n            </Modal>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Header from \"./components/Header\";\r\nimport Body from \"./components/Body\";\r\nimport {DEV_VERSION} from \"../../config\";\r\n\r\nconst App: React.FC = () => {\r\n\r\n    DEV_VERSION && console.log(`RENDER App`);\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <Body/>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../bll/store\";\r\nimport Preloader from \"./components/preloader/Preloader\";\r\nimport {initializationApp} from \"../../01-auth/bll/init-reducer\";\r\nimport App from \"./App\";\r\nimport {DEV_VERSION} from \"../../config\";\r\n\r\nconst AppContainer: React.FC = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {isInitializedApp} = useSelector((store: AppStateType) => store.init);\r\n    const {isLoading} = useSelector((store: AppStateType) => store.requestStatus);\r\n\r\n    useEffect(() => {\r\n        dispatch(initializationApp());\r\n    }, [dispatch])\r\n\r\n    //until we get the result, we show the preloader\r\n    if (isInitializedApp === null)\r\n        return <Preloader isLoading={isLoading}/>\r\n\r\n\r\n    DEV_VERSION && console.log(`RENDER AppContainer: isInitializedApp=${isInitializedApp}`);\r\n    return <App/>\r\n}\r\n\r\nexport default AppContainer\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from './main/bll/store';\r\nimport AppContainer from \"./main/ui/AppContainer\";\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\ndeclare const window: any;\r\nwindow.store = store;\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/no-user-photo.08e9b4f3.jpg\";","module.exports = \"data:image/jpeg;base64,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\""],"sourceRoot":""}